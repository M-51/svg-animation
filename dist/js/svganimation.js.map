{"version":3,"file":"svganimation.js","sources":["../../src/js/animated-object/helpers/attributes.js","../../src/js/animated-object/helpers/matrix.js","../../src/js/animated-object/constructor.js","../../src/js/utils.js","../../src/js/settings.js","../../src/js/main-object/constructor.js","../../src/js/main-object/player.js","../../src/js/main-object/draw.js","../../src/js/engine/separate.js","../../src/js/engine/animation/transform/matrix-transformations.js","../../src/js/engine/animation/transform/transform-controler.js","../../src/js/engine/animation/attribute/attribute-controler.js","../../src/js/engine/animation/apply-animation.js","../../src/js/engine/range/infnite-endpoint.js","../../src/js/engine/range/interval.js","../../src/js/engine/range/one-time.js","../../src/js/engine/range/apply-range.js","../../src/js/main-object/dispatcher.js","../../src/js/main-object/helpers.js","../../src/js/index.js"],"sourcesContent":["function getAttributes(object) {\n    const list = new Map();\n    const { attributes } = object;\n    for (let i = 0; i < attributes.length; i += 1) {\n        if (attributes[i].specified) {\n            list.set(attributes[i].name, parseFloat(attributes[i].value) || attributes[i].value);\n        }\n    }\n    return list;\n}\n\nfunction resetAttributes(object, attributes) {\n    // remove all attributes\n    while (object.attributes.length > 0) {\n        object.removeAttribute(object.attributes[0].name);\n    }\n    // set new attributes\n    attributes.forEach((value, key) => {\n        object.setAttribute(key, value);\n    });\n}\n\nexport { getAttributes, resetAttributes };\n","function initMatrix(object, svg) {\n    let matrix = null;\n    const svgTransform = object.transform.baseVal;\n    if (svgTransform.length) {\n        svgTransform.consolidate();\n        ({ matrix } = svgTransform.getItem(0));\n    } else {\n        matrix = svg.createSVGMatrix();\n    }\n    svgTransform.initialize(svg.createSVGTransformFromMatrix(matrix));\n}\n\nfunction decomposeMatrix(m) {\n    const transform = {};\n    transform.translate = {\n        x: m.e,\n        y: m.f,\n    };\n    transform.scale = Math.sign(m.a) * Math.sqrt((m.a * m.a) + (m.c * m.c));\n    transform.rotate = Math.atan2(-m.c, m.a) * (180 / Math.PI);\n\n    return transform;\n}\nexport { initMatrix, decomposeMatrix };\n","import { getAttributes, resetAttributes } from './helpers/attributes';\nimport { initMatrix, decomposeMatrix } from './helpers/matrix';\n\nclass animatedObject {\n    constructor(item) {\n        this.item = item;\n    }\n    setVariables() {\n        this.variables = getAttributes(this.item);\n    }\n    initMatrix(settings) {\n        initMatrix(this.item, settings);\n        this.matrix = this.item.transform.baseVal.getItem(0).matrix;\n        this.SVGTransform = this.item.transform.baseVal.getItem(0);\n    }\n    resetAttributes() {\n        resetAttributes(this.item, this.variables);\n    }\n    decomposeMatrix() {\n        this.transform = decomposeMatrix(this.matrix);\n    }\n    setMatrix(matrix) {\n        this.SVGTransform.setMatrix(matrix);\n    }\n    setAttribute(name, value) {\n        this.item.setAttributeNS(null, name, value);\n    }\n}\n\nexport default animatedObject;\n","\n// check if argument is undefined\nfunction undef(item) {\n    return (typeof item === 'undefined');\n}\n\n// check if expresion is a number\nfunction isNumeric(number) {\n    return !Number.isNaN(parseFloat(number)) && Number.isFinite(number);\n}\n\n// create element NS\n// accepts element name as paramater\nfunction createElNS(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n// set multiple attributtes NS\n// setAttrs(element, [name, value], [name2,value2]...)\nfunction setAttrs(element, ...attributtes) {\n    attributtes.forEach((attributte) => {\n        element.setAttributeNS(null, attributte[0], attributte[1]);\n    });\n}\n\nfunction findSVGParent(element) {\n    let el = element;\n    while (el.tagName) {\n        if (el.tagName.toLowerCase() === 'svg') {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    throw new Error('Cannot find SVG element! All animated elements must have SVG parent');\n}\n\nexport { undef, createElNS, setAttrs, isNumeric, findSVGParent };\n","import { undef } from './utils';\n\nconst defaultSettings = {\n    showInterface: true,\n    interfaceAnimation: true,\n    interfaceSize: 1,\n    interfaceColor: '#000',\n    interfacePosition: 'auto',\n    restartAtTheEnd: false,\n};\n\n\nfunction compileSettings(settings) {\n    const compiledSettings = {};\n    Object.keys(defaultSettings).forEach((rule) => {\n        if (!undef(settings) && !undef(settings[rule])) {\n            compiledSettings[rule] = settings[rule];\n        } else {\n            compiledSettings[rule] = defaultSettings[rule];\n        }\n    });\n    return compiledSettings;\n}\n\nexport default compileSettings;\n","import compileSettings from '../settings';\nimport { findSVGParent } from '../utils';\n\nclass SVGAnimation {\n    constructor() {\n        this.status = 'not started';\n        this.timer = {\n            animationId: 0,\n            startTime: 0,\n            time: 0,\n        };\n    }\n    init(...objects) {\n        // check if objects exist\n        if (objects.length === 0) { throw new Error('No objects to animate. Add objects to \"init\" function'); }\n        // add all animated objects to \"objectList\" set\n        this.objectList = new Set();\n        objects.forEach((object) => {\n            if (Object.prototype.hasOwnProperty.call(object, 'animation')) {\n                this.objectList.add(object);\n            }\n        });\n        // check if objectList is not empty\n        if (this.objectList.size === 0) { throw new Error('No objects to animate. At least one object must have \"animate\" property'); }\n        // find svg element\n        this.svg = findSVGParent(objects[0].item);\n        // compile user settings\n        this.settings = compileSettings(this.settings);\n\n        // initialize all animated objects\n        this.objectList.forEach((object) => {\n            // remember starting attributtes\n            object.setVariables();\n            // initialize transformation matrix\n            object.initMatrix(this.svg);\n            // decompose initial matrix\n            object.decomposeMatrix();\n        });\n\n        this.dispatcher();\n    }\n    reset() {\n        this.objectList.forEach((object) => {\n            object.resetAttributes();\n            object.setVariables();\n            object.initMatrix(this.svg);\n            object.decomposeMatrix();\n        });\n        this.dispatcher();\n    }\n}\n\nexport default SVGAnimation;\n","import SVGAnimation from './constructor';\n\nfunction createPlayer() {\n    SVGAnimation.prototype.play = function play() {\n        const that = this;\n        function startLoop() {\n            that.timer.time = Date.now() - that.timer.startTime;\n            that.frame(that.timer.time / 1000);\n            that.timer.animationId = window.requestAnimationFrame(startLoop);\n        }\n        if (this.status === 'not started') {\n            this.status = 'playing';\n            this.timer.startTime = Date.now();\n            this.timer.animationId = window.requestAnimationFrame(startLoop);\n        } else if (this.status === 'paused') {\n            this.status = 'playing';\n            this.timer.startTime = Date.now() - this.timer.time;\n            this.timer.animationId = window.requestAnimationFrame(startLoop);\n        }\n    };\n\n    SVGAnimation.prototype.pause = function pause() {\n        if (this.status === 'playing') {\n            this.status = 'paused';\n            window.cancelAnimationFrame(this.timer.animationId);\n        }\n    };\n\n    SVGAnimation.prototype.refresh = function refresh() {\n        if (this.status === 'playing' || this.status === 'paused' || this.status === 'ended') {\n            this.status = 'not started';\n            window.cancelAnimationFrame(this.timer.animationId);\n            this.timer.startTime = 0;\n            this.timer.time = 0;\n\n            // reset all animated object to starting attributtes\n            this.reset();\n        }\n    };\n    SVGAnimation.prototype.end = function end() {\n        this.status = 'ended';\n        const that = this;\n        window.setTimeout(() => {\n            window.cancelAnimationFrame(that.timer.animationId);\n            if (that.settings.restartAtTheEnd) {\n                that.refresh();\n            }\n        }, 25);\n        // switch play off and leave only refresh !!!! TO DO\n    };\n}\n\nexport default createPlayer;\n","import SVGAnimation from './constructor';\n\nfunction createDrawFunction() {\n    SVGAnimation.prototype.frame = function frame(time) {\n        for (let i = 0; i < this.loop.length; i += 1) {\n            this.loop[i](time);\n        }\n    };\n}\n\nexport default createDrawFunction;\n","\nfunction splitArray(key, object) {\n    const keyEquationObject = [];\n    if (Array.isArray(object.animation[key])) {\n        object.animation[key].forEach((item) => {\n            keyEquationObject.push([key, item, object]);\n        });\n    } else {\n        keyEquationObject.push([key, object.animation[key], object]);\n    }\n    return keyEquationObject;\n}\n\n\nfunction separate(objectsList) {\n    const propertiesToAnimateList = [];\n    objectsList.forEach((object) => {\n        Object.keys(object.animation).forEach((key) => {\n            propertiesToAnimateList.push(...splitArray(key, object));\n        });\n    });\n    return propertiesToAnimateList;\n}\n\nexport default separate;\n","\nfunction translate(matrix, x, y) {\n    const modifiedMatrix = matrix;\n\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\nfunction rotate(matrix, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction scale(matrix, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction translateRotate(matrix, x, y, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateScale(matrix, x, y, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction scaleRotate(matrix, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction translateScaleRotate(matrix, x, y, s, angle) {\n    const modifiedMatrix = matrix;\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nexport {\n    translate,\n    rotate,\n    scale,\n    translateRotate,\n    translateScale,\n    scaleRotate,\n    translateScaleRotate,\n};\n","import { translate, rotate, scale, translateRotate, translateScale, scaleRotate, translateScaleRotate } from './matrix-transformations';\n\nfunction chooseTransformMethod(object, transform) {\n    // shortcuts\n    const v = object.transform; // current position/scale/rotation object\n    const t = v.translate; // current translation\n    const keys = Object.keys(transform);\n\n    // check of property exist\n    function check(property) {\n        return keys.indexOf(property);\n    }\n\n    let animationFunc;\n\n    if (check('translate') !== -1 && check('rotate') === -1 && check('scale') === -1) {\n        // only translate\n        animationFunc = (time) => {\n            t.x = transform.translate.x(time);\n            t.y = transform.translate.y(time);\n            const matrix = translate(object.matrix, t.x, t.y);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // only rotate\n        animationFunc = (time) => {\n            v.rotate = transform.rotate(time);\n            const matrix = rotate(object.matrix, v.rotate, v.scale);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') === -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // only scale\n        animationFunc = (time) => {\n            v.scale = transform.scale(time);\n            const matrix = scale(object.matrix, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // translate and rotate\n        animationFunc = (time) => {\n            t.x = transform.translate.x(time);\n            t.y = transform.translate.y(time);\n            const angle = transform.rotate(time);\n            const matrix = translateRotate(object.matrix, t.x, t.y, angle, v.scale);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') !== -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // translate and scale\n        animationFunc = (time) => {\n            t.x = transform.translate.x(time);\n            t.y = transform.translate.y(time);\n            v.scale = transform.scale(time);\n            const matrix = translateScale(object.matrix, t.x, t.y, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        animationFunc = (time) => {\n            v.rotate = transform.rotate(time);\n            v.scale = transform.scale(time);\n            const matrix = scaleRotate(object.matrix, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        animationFunc = (time) => {\n            t.x = transform.translate.x(time);\n            t.y = transform.translate.y(time);\n            v.rotate = transform.rotate(time);\n            v.scale = transform.scale(time);\n            const matrix = translateScaleRotate(object.matrix, t.x, t.y, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    }\n    return animationFunc;\n}\n\nexport default chooseTransformMethod;\n","function applyAttributeAnimation(object, key) {\n    const animationFunction = (time) => {\n        const { value } = object.animation[key];\n        object.setAttribute(key, value(time));\n    };\n    return animationFunction;\n}\n\nexport default applyAttributeAnimation;\n","import transformControler from './transform/transform-controler';\nimport attributeControler from './attribute/attribute-controler';\n\nfunction applyAnimation(propertiesToAnimateList) {\n    const animationList = [];\n    propertiesToAnimateList.forEach((element) => {\n        const [key, animation, object] = element;\n        if (key === 'transform') {\n            animationList.push([transformControler(object, animation), animation]);\n        } else {\n            animationList.push([attributeControler(object, key), animation]);\n        }\n    });\n    return animationList;\n}\n\nexport default applyAnimation;\n","function infiniteEndpoint(animationFunction, animation) {\n    let rangeFunction;\n    if (animation.local) {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0]) {\n                animationFunction(t - animation.range[0]);\n            }\n        };\n    } else {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0]) {\n                animationFunction(t);\n            }\n        };\n    }\n    return rangeFunction;\n}\n\nexport default infiniteEndpoint;\n","function interval(animationFunction, animation, deleteItemFromLoop) {\n    let rangeFunction;\n    if (animation.local) {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0] && t <= animation.range[1]) {\n                animationFunction(t - animation.range[0]);\n            } else if (t > animation.range[1]) {\n                deleteItemFromLoop(rangeFunction);\n            }\n        };\n    } else {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0] && t <= animation.range[1]) {\n                animationFunction(t);\n            } else if (t > animation.range[1]) {\n                deleteItemFromLoop(rangeFunction);\n            }\n        };\n    }\n    return rangeFunction;\n}\n\nexport default interval;\n","function oneTime(animationFunction, animation, deleteItemFromLoop) {\n    let rangeFunction;\n    if (animation.local) {\n        rangeFunction = (t) => {\n            if (t >= animation.range) {\n                animationFunction(t - animation.range);\n                deleteItemFromLoop(rangeFunction);\n            }\n        };\n    } else {\n        rangeFunction = (t) => {\n            if (t >= animation.range) {\n                animationFunction(t);\n                deleteItemFromLoop(rangeFunction);\n            }\n        };\n    }\n\n    return rangeFunction;\n}\n\nexport default oneTime;\n","import { isNumeric } from '../../utils';\nimport infiniteEndpoint from './infnite-endpoint';\nimport interval from './interval';\nimport oneTime from './one-time';\n\nfunction chooseRangeType(animationFunction, animation, deleteItemFromLoop) {\n    let rangeFunction;\n    const { range } = animation;\n    if (Array.isArray(range)) {\n        if (range.length === 1) {\n            rangeFunction = infiniteEndpoint(animationFunction, animation);\n        } else if (range.length === 2) {\n            rangeFunction = interval(animationFunction, animation, deleteItemFromLoop);\n        }\n    } else if (isNumeric(range)) {\n        rangeFunction = oneTime(animationFunction, animation, deleteItemFromLoop);\n    }\n    return rangeFunction;\n}\n\nfunction applyRange(animationList, deleteItemFromLoop) {\n    const loop = [];\n    animationList.forEach((element) => {\n        const [animationFunction, animation] = element;\n        if (animation.range) {\n            loop.push(chooseRangeType(animationFunction, animation, deleteItemFromLoop));\n        } else {\n            loop.push(animationFunction);\n        }\n    });\n    return loop;\n}\n\nexport default applyRange;\n","import SVGAnimation from './constructor';\nimport separate from '../engine/separate';\nimport applyAnimation from '../engine/animation/apply-animation';\nimport applyRange from '../engine/range/apply-range';\n\nfunction createMainObjectDispatcher() {\n    SVGAnimation.prototype.dispatcher = function dispatcher() {\n        // array of [key, animation, objecy] items\n        const propertiesToAnimateList = separate(this.objectList);\n        // array of [animationFunction, animation (equation. range etc...)]\n        const animationList = applyAnimation(propertiesToAnimateList);\n        // array of animationFunction with range applied\n        const deleteItemFromLoop = this.deleteItemFromLoop.bind(this);\n        this.loop = applyRange(animationList, deleteItemFromLoop);\n    };\n}\n\nexport default createMainObjectDispatcher;\n","import SVGAnimation from './constructor';\n\nfunction createMainObjectHelpers() {\n    SVGAnimation.prototype.deleteItemFromLoop = function deleteItemFromLoop(item) {\n        this.loop.splice(this.loop.indexOf(item), 1);\n        if (this.loop < 1) {\n            this.end();\n        }\n    };\n}\n\nexport default createMainObjectHelpers;\n","import animatedObject from './animated-object/constructor'; // Objects to animate\nimport SVGAnimation from './main-object/constructor'; // SVGanimation objects\n\nimport createPlayer from './main-object/player';\nimport createDrawFunction from './main-object/draw';\nimport createMainObjectDispatcher from './main-object/dispatcher';\nimport createMainObjectHelpers from './main-object/helpers';\n\ncreatePlayer();\ncreateDrawFunction();\ncreateMainObjectDispatcher();\ncreateMainObjectHelpers();\n\nexport { animatedObject as Obj, SVGAnimation as Create };\n"],"names":["chooseTransformMethod","applyAttributeAnimation","transformControler","attributeControler"],"mappings":";;;AAAA,SAAS,aAAa,CAAC,MAAM,EAAE;IAC3B,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;IACvB,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM,CAAC;IAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3C,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;YACzB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SACxF;KACJ;IACD,OAAO,IAAI,CAAC;CACf;;AAED,SAAS,eAAe,CAAC,MAAM,EAAE,UAAU,EAAE;;IAEzC,OAAO,MAAM,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACjC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KACrD;;IAED,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,KAAK;QAC/B,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;KACnC,CAAC,CAAC;CACN;;ACpBD,SAAS,UAAU,CAAC,MAAM,EAAE,GAAG,EAAE;IAC7B,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,MAAM,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;IAC9C,IAAI,YAAY,CAAC,MAAM,EAAE;QACrB,YAAY,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC,EAAE,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;KAC1C,MAAM;QACH,MAAM,GAAG,GAAG,CAAC,eAAe,EAAE,CAAC;KAClC;IACD,YAAY,CAAC,UAAU,CAAC,GAAG,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC;CACrE;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE;IACxB,MAAM,SAAS,GAAG,EAAE,CAAC;IACrB,SAAS,CAAC,SAAS,GAAG;QAClB,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,CAAC,EAAE,CAAC,CAAC,CAAC;KACT,CAAC;IACF,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;;IAE3D,OAAO,SAAS,CAAC;CACpB;;ACnBD,MAAM,cAAc,CAAC;IACjB,WAAW,CAAC,IAAI,EAAE;QACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;KACpB;IACD,YAAY,GAAG;QACX,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC7C;IACD,UAAU,CAAC,QAAQ,EAAE;QACjB,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;QAChC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;KAC9D;IACD,eAAe,GAAG;QACd,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KAC9C;IACD,eAAe,GAAG;QACd,IAAI,CAAC,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACjD;IACD,SAAS,CAAC,MAAM,EAAE;QACd,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;KACvC;IACD,YAAY,CAAC,IAAI,EAAE,KAAK,EAAE;QACtB,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KAC/C;CACJ;;AC1BD;AACA,SAAS,KAAK,CAAC,IAAI,EAAE;IACjB,QAAQ,OAAO,IAAI,KAAK,WAAW,EAAE;CACxC;;;AAGD,SAAS,SAAS,CAAC,MAAM,EAAE;IACvB,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;CACvE;;AAED,AAcA,SAAS,aAAa,CAAC,OAAO,EAAE;IAC5B,IAAI,EAAE,GAAG,OAAO,CAAC;IACjB,OAAO,EAAE,CAAC,OAAO,EAAE;QACf,IAAI,EAAE,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,KAAK,EAAE;YACpC,OAAO,EAAE,CAAC;SACb;QACD,EAAE,GAAG,EAAE,CAAC,UAAU,CAAC;KACtB;IACD,MAAM,IAAI,KAAK,CAAC,qEAAqE,CAAC,CAAC;CAC1F;;AChCD,MAAM,eAAe,GAAG;IACpB,aAAa,EAAE,IAAI;IACnB,kBAAkB,EAAE,IAAI;IACxB,aAAa,EAAE,CAAC;IAChB,cAAc,EAAE,MAAM;IACtB,iBAAiB,EAAE,MAAM;IACzB,eAAe,EAAE,KAAK;CACzB,CAAC;;;AAGF,SAAS,eAAe,CAAC,QAAQ,EAAE;IAC/B,MAAM,gBAAgB,GAAG,EAAE,CAAC;IAC5B,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;QAC3C,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;YAC5C,gBAAgB,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;SAC3C,MAAM;YACH,gBAAgB,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;SAClD;KACJ,CAAC,CAAC;IACH,OAAO,gBAAgB,CAAC;CAC3B;;ACnBD,MAAM,YAAY,CAAC;IACf,WAAW,GAAG;QACV,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG;YACT,WAAW,EAAE,CAAC;YACd,SAAS,EAAE,CAAC;YACZ,IAAI,EAAE,CAAC;SACV,CAAC;KACL;IACD,IAAI,CAAC,GAAG,OAAO,EAAE;;QAEb,IAAI,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE,EAAE,MAAM,IAAI,KAAK,CAAC,uDAAuD,CAAC,CAAC,EAAE;;QAEvG,IAAI,CAAC,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;QAC5B,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;YACxB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,EAAE;gBAC3D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;aAC/B;SACJ,CAAC,CAAC;;QAEH,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,EAAE,EAAE,MAAM,IAAI,KAAK,CAAC,yEAAyE,CAAC,CAAC,EAAE;;QAE/H,IAAI,CAAC,GAAG,GAAG,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;;QAE1C,IAAI,CAAC,QAAQ,GAAG,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;;;QAG/C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;;YAEhC,MAAM,CAAC,YAAY,EAAE,CAAC;;YAEtB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;YAE5B,MAAM,CAAC,eAAe,EAAE,CAAC;SAC5B,CAAC,CAAC;;QAEH,IAAI,CAAC,UAAU,EAAE,CAAC;KACrB;IACD,KAAK,GAAG;QACJ,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;YAChC,MAAM,CAAC,eAAe,EAAE,CAAC;YACzB,MAAM,CAAC,YAAY,EAAE,CAAC;YACtB,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAC5B,MAAM,CAAC,eAAe,EAAE,CAAC;SAC5B,CAAC,CAAC;QACH,IAAI,CAAC,UAAU,EAAE,CAAC;KACrB;CACJ;;AChDD,SAAS,YAAY,GAAG;IACpB,YAAY,CAAC,SAAS,CAAC,IAAI,GAAG,SAAS,IAAI,GAAG;QAC1C,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,SAAS,SAAS,GAAG;YACjB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;YACpD,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,MAAM,KAAK,aAAa,EAAE;YAC/B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAClC,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;SACpE,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,EAAE;YACjC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;YACxB,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YACpD,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;SACpE;KACJ,CAAC;;IAEF,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,KAAK,GAAG;QAC5C,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YACvB,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;SACvD;KACJ,CAAC;;IAEF,YAAY,CAAC,SAAS,CAAC,OAAO,GAAG,SAAS,OAAO,GAAG;QAChD,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;YAClF,IAAI,CAAC,MAAM,GAAG,aAAa,CAAC;YAC5B,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YACpD,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC;YACzB,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC;;;YAGpB,IAAI,CAAC,KAAK,EAAE,CAAC;SAChB;KACJ,CAAC;IACF,YAAY,CAAC,SAAS,CAAC,GAAG,GAAG,SAAS,GAAG,GAAG;QACxC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC;QAClB,MAAM,CAAC,UAAU,CAAC,MAAM;YACpB,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YACpD,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;gBAC/B,IAAI,CAAC,OAAO,EAAE,CAAC;aAClB;SACJ,EAAE,EAAE,CAAC,CAAC;;KAEV,CAAC;CACL;;AChDD,SAAS,kBAAkB,GAAG;IAC1B,YAAY,CAAC,SAAS,CAAC,KAAK,GAAG,SAAS,KAAK,CAAC,IAAI,EAAE;QAChD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;SACtB;KACJ,CAAC;CACL;;ACPD,SAAS,UAAU,CAAC,GAAG,EAAE,MAAM,EAAE;IAC7B,MAAM,iBAAiB,GAAG,EAAE,CAAC;IAC7B,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE;QACtC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;YACpC,iBAAiB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;SAC/C,CAAC,CAAC;KACN,MAAM;QACH,iBAAiB,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC;KAChE;IACD,OAAO,iBAAiB,CAAC;CAC5B;;;AAGD,SAAS,QAAQ,CAAC,WAAW,EAAE;IAC3B,MAAM,uBAAuB,GAAG,EAAE,CAAC;IACnC,WAAW,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;QAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;YAC3C,uBAAuB,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC,CAAC;SAC5D,CAAC,CAAC;KACN,CAAC,CAAC;IACH,OAAO,uBAAuB,CAAC;CAClC;;ACrBD,SAAS,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;IAC7B,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;AACD,SAAS,MAAM,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE;IAC9B,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AAED,SAAS,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE;IAC7B,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AAED,SAAS,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE;IAC7C,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AAED,SAAS,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE;IAC5C,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AAED,SAAS,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,KAAK,EAAE;IACnC,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AAED,SAAS,oBAAoB,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE;IAClD,MAAM,cAAc,GAAG,MAAM,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;IACtB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;AC9FD,SAASA,uBAAqB,CAAC,MAAM,EAAE,SAAS,EAAE;;IAE9C,MAAM,CAAC,GAAG,MAAM,CAAC,SAAS,CAAC;IAC3B,MAAM,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC;IACtB,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;;IAGpC,SAAS,KAAK,CAAC,QAAQ,EAAE;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KACjC;;IAED,IAAI,aAAa,CAAC;;IAElB,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAE9E,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAClD,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YACxD,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YACvD,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,MAAM,KAAK,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACrC,MAAM,MAAM,GAAG,eAAe,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;YACxE,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,MAAM,GAAG,cAAc,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YAC1E,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;QACrF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YAC7D,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;QACrF,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAClC,CAAC,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,MAAM,GAAG,oBAAoB,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YAChF,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL;IACD,OAAO,aAAa,CAAC;CACxB;;ACzED,SAASC,yBAAuB,CAAC,MAAM,EAAE,GAAG,EAAE;IAC1C,MAAM,iBAAiB,GAAG,CAAC,IAAI,KAAK;QAChC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACxC,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;KACzC,CAAC;IACF,OAAO,iBAAiB,CAAC;CAC5B;;ACHD,SAAS,cAAc,CAAC,uBAAuB,EAAE;IAC7C,MAAM,aAAa,GAAG,EAAE,CAAC;IACzB,uBAAuB,CAAC,OAAO,CAAC,CAAC,OAAO,KAAK;QACzC,MAAM,CAAC,GAAG,EAAE,SAAS,EAAE,MAAM,CAAC,GAAG,OAAO,CAAC;QACzC,IAAI,GAAG,KAAK,WAAW,EAAE;YACrB,aAAa,CAAC,IAAI,CAAC,CAACC,uBAAkB,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;SAC1E,MAAM;YACH,aAAa,CAAC,IAAI,CAAC,CAACC,yBAAkB,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC;SACpE;KACJ,CAAC,CAAC;IACH,OAAO,aAAa,CAAC;CACxB;;ACdD,SAAS,gBAAgB,CAAC,iBAAiB,EAAE,SAAS,EAAE;IACpD,IAAI,aAAa,CAAC;IAClB,IAAI,SAAS,CAAC,KAAK,EAAE;QACjB,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACzB,iBAAiB,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aAC7C;SACJ,CAAC;KACL,MAAM;QACH,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACzB,iBAAiB,CAAC,CAAC,CAAC,CAAC;aACxB;SACJ,CAAC;KACL;IACD,OAAO,aAAa,CAAC;CACxB;;AChBD,SAAS,QAAQ,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,EAAE;IAChE,IAAI,aAAa,CAAC;IAClB,IAAI,SAAS,CAAC,KAAK,EAAE;QACjB,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACpD,iBAAiB,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aAC7C,MAAM,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBAC/B,kBAAkB,CAAC,aAAa,CAAC,CAAC;aACrC;SACJ,CAAC;KACL,MAAM;QACH,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBACpD,iBAAiB,CAAC,CAAC,CAAC,CAAC;aACxB,MAAM,IAAI,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;gBAC/B,kBAAkB,CAAC,aAAa,CAAC,CAAC;aACrC;SACJ,CAAC;KACL;IACD,OAAO,aAAa,CAAC;CACxB;;ACpBD,SAAS,OAAO,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,EAAE;IAC/D,IAAI,aAAa,CAAC;IAClB,IAAI,SAAS,CAAC,KAAK,EAAE;QACjB,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,EAAE;gBACtB,iBAAiB,CAAC,CAAC,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;gBACvC,kBAAkB,CAAC,aAAa,CAAC,CAAC;aACrC;SACJ,CAAC;KACL,MAAM;QACH,aAAa,GAAG,CAAC,CAAC,KAAK;YACnB,IAAI,CAAC,IAAI,SAAS,CAAC,KAAK,EAAE;gBACtB,iBAAiB,CAAC,CAAC,CAAC,CAAC;gBACrB,kBAAkB,CAAC,aAAa,CAAC,CAAC;aACrC;SACJ,CAAC;KACL;;IAED,OAAO,aAAa,CAAC;CACxB;;ACdD,SAAS,eAAe,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,EAAE;IACvE,IAAI,aAAa,CAAC;IAClB,MAAM,EAAE,KAAK,EAAE,GAAG,SAAS,CAAC;IAC5B,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QACtB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACpB,aAAa,GAAG,gBAAgB,CAAC,iBAAiB,EAAE,SAAS,CAAC,CAAC;SAClE,MAAM,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3B,aAAa,GAAG,QAAQ,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,CAAC,CAAC;SAC9E;KACJ,MAAM,IAAI,SAAS,CAAC,KAAK,CAAC,EAAE;QACzB,aAAa,GAAG,OAAO,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,CAAC,CAAC;KAC7E;IACD,OAAO,aAAa,CAAC;CACxB;;AAED,SAAS,UAAU,CAAC,aAAa,EAAE,kBAAkB,EAAE;IACnD,MAAM,IAAI,GAAG,EAAE,CAAC;IAChB,aAAa,CAAC,OAAO,CAAC,CAAC,OAAO,KAAK;QAC/B,MAAM,CAAC,iBAAiB,EAAE,SAAS,CAAC,GAAG,OAAO,CAAC;QAC/C,IAAI,SAAS,CAAC,KAAK,EAAE;YACjB,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,iBAAiB,EAAE,SAAS,EAAE,kBAAkB,CAAC,CAAC,CAAC;SAChF,MAAM;YACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAChC;KACJ,CAAC,CAAC;IACH,OAAO,IAAI,CAAC;CACf;;AC1BD,SAAS,0BAA0B,GAAG;IAClC,YAAY,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,UAAU,GAAG;;QAEtD,MAAM,uBAAuB,GAAG,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;;QAE1D,MAAM,aAAa,GAAG,cAAc,CAAC,uBAAuB,CAAC,CAAC;;QAE9D,MAAM,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC9D,IAAI,CAAC,IAAI,GAAG,UAAU,CAAC,aAAa,EAAE,kBAAkB,CAAC,CAAC;KAC7D,CAAC;CACL;;ACbD,SAAS,uBAAuB,GAAG;IAC/B,YAAY,CAAC,SAAS,CAAC,kBAAkB,GAAG,SAAS,kBAAkB,CAAC,IAAI,EAAE;QAC1E,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;QAC7C,IAAI,IAAI,CAAC,IAAI,GAAG,CAAC,EAAE;YACf,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;KACJ,CAAC;CACL;;ACDD,YAAY,EAAE,CAAC;AACf,kBAAkB,EAAE,CAAC;AACrB,0BAA0B,EAAE,CAAC;AAC7B,uBAAuB,EAAE,CAAC;;;;;;;;;;;"}