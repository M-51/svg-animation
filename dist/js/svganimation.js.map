{"version":3,"file":"svganimation.js","sources":["../../src/js/utils.js","../../src/js/settings.js","../../src/js/main-object/constructor.js","../../src/js/main-object/player.js","../../src/js/main-object/draw.js","../../src/js/engine/separate.js","../../src/js/engine/animation/transform/matrix-transformations.js","../../src/js/engine/animation/transform/transform-controler.js","../../src/js/engine/animation/attribute/attribute-controler.js","../../src/js/engine/animation/apply-animation.js","../../src/js/engine/range/infnite-endpoint.js","../../src/js/engine/range/interval.js","../../src/js/engine/range/one-time.js","../../src/js/engine/range/apply-range.js","../../src/js/engine/interpreter/constants-replacer.js","../../src/js/engine/interpreter/easing.js","../../src/js/engine/interpreter/from-to-interpreter.js","../../src/js/engine/interpreter/interpreter.js","../../src/js/main-object/dispatcher.js","../../src/js/main-object/helpers.js","../../src/js/interface/playpause.js","../../src/js/interface/refresh.js","../../src/js/main-object/interface-controler.js","../../src/js/animated-object/helpers/attributes.js","../../src/js/animated-object/helpers/matrix.js","../../src/js/animated-object/constructor.js","../../src/js/main-object/add.js","../../src/js/index.js"],"sourcesContent":["\n// check if argument is undefined\nfunction undef(item) {\n    return (typeof item === 'undefined');\n}\n\n// check if expresion is a number\nfunction isNumeric(number) {\n    return !Number.isNaN(parseFloat(number)) && Number.isFinite(number);\n}\n\n// create element NS\n// accepts element name as paramater\nfunction createElNS(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n// set multiple attributtes NS\n// setAttrs(element, [name, value], [name2,value2]...)\nfunction setAttrs(element, ...attributtes) {\n    attributtes.forEach((attributte) => {\n        element.setAttributeNS(null, attributte[0], attributte[1]);\n    });\n}\n\nfunction findSVGParent(element) {\n    let el = element.item;\n    while (el.tagName) {\n        if (el.tagName.toLowerCase() === 'svg') {\n            return el;\n        }\n        el = el.parentNode;\n    }\n    throw new Error('Cannot find SVG element! All animated elements must have SVG parent');\n}\n\nexport { undef, createElNS, setAttrs, isNumeric, findSVGParent };\n","import { undef } from './utils';\n\nconst defaultSettings = {\n    showInterface: true,\n    interfaceAnimation: true,\n    interfaceSize: 1,\n    interfaceColor: '#000',\n    interfacePosition: 'auto',\n    restartAtTheEnd: false,\n};\n\n\nfunction compileSettings(settings) {\n    const compiledSettings = {};\n    Object.keys(defaultSettings).forEach((rule) => {\n        if (!undef(settings) && !undef(settings[rule])) {\n            compiledSettings[rule] = settings[rule];\n        } else {\n            compiledSettings[rule] = defaultSettings[rule];\n        }\n    });\n    return compiledSettings;\n}\n\nexport default compileSettings;\n","import compileSettings from '../settings';\n\nclass SVGAnimation {\n    constructor(settings) {\n        this.status = 'not started';\n        this.timer = {\n            animationId: 0,\n            startTime: 0,\n            time: 0,\n        };\n        this.settings = compileSettings(settings);\n        this.objectList = new Set();\n        this.loop = [];\n    }\n    reset() {\n        this.objectList.forEach((object) => {\n            object.resetAttributes();\n            object.setVariables();\n            object.initMatrix(this.svg);\n            object.decomposeMatrix();\n        });\n        this.loop = [];\n        this.dispatcher(this.objectList);\n    }\n}\n\nexport default SVGAnimation;\n","import SVGAnimation from './constructor';\n\nconst refreshEvent = new CustomEvent('svgRefresh');\n\nfunction createPlayer() {\n    SVGAnimation.prototype.play = function play() {\n        const that = this;\n        function startLoop() {\n            that.timer.time = Date.now() - that.timer.startTime;\n            that.frame(that.timer.time / 1000);\n            that.timer.animationId = window.requestAnimationFrame(startLoop);\n        }\n        if (this.status === 'not started') {\n            this.status = 'playing';\n            this.timer.startTime = Date.now();\n            this.timer.animationId = window.requestAnimationFrame(startLoop);\n            if (this.settings.showInterface) {\n                this.interfaceControler.playPause.pause();\n                this.interfaceControler.refresh.on();\n            }\n        } else if (this.status === 'paused') {\n            this.status = 'playing';\n            this.timer.startTime = Date.now() - this.timer.time;\n            this.timer.animationId = window.requestAnimationFrame(startLoop);\n            if (this.settings.showInterface) {\n                this.interfaceControler.playPause.pause();\n            }\n        }\n    };\n\n    SVGAnimation.prototype.pause = function pause() {\n        if (this.status === 'playing') {\n            this.status = 'paused';\n            window.cancelAnimationFrame(this.timer.animationId);\n            if (this.settings.showInterface) {\n                this.interfaceControler.playPause.play();\n            }\n        }\n    };\n\n    SVGAnimation.prototype.refresh = function refresh() {\n        if (this.status === 'playing' || this.status === 'paused' || this.status === 'ended') {\n            if (this.settings.showInterface) {\n                if (this.status === 'playing') {\n                    this.interfaceControler.playPause.play();\n                } else if (this.status === 'ended') {\n                    this.interfaceControler.playPause.on();\n                }\n                this.interfaceControler.refresh.off();\n            }\n            this.status = 'not started';\n            window.cancelAnimationFrame(this.timer.animationId);\n            this.timer.startTime = 0;\n            this.timer.time = 0;\n\n            // reset all animated object to starting attributtes\n            this.reset();\n            this.svg.dispatchEvent(refreshEvent);\n        }\n    };\n    SVGAnimation.prototype.end = function end() {\n        if (this.status === 'playing' || this.status === 'paused') {\n            this.status = 'ended';\n            const that = this;\n            window.setTimeout(() => {\n                window.cancelAnimationFrame(that.timer.animationId);\n                if (that.settings.restartAtTheEnd) {\n                    that.refresh();\n                }\n                if (this.settings.showInterface) {\n                    this.interfaceControler.playPause.off();\n                }\n            }, 0);\n        }\n    };\n}\n\nexport default createPlayer;\n","import SVGAnimation from './constructor';\n\nfunction createDrawFunction() {\n    SVGAnimation.prototype.frame = function frame(time) {\n        for (let i = 0; i < this.loop.length; i += 1) {\n            this.loop[i](time);\n        }\n    };\n}\n\nexport default createDrawFunction;\n","\nfunction splitArray(key, object) {\n    const keyEquationObject = [];\n    if (Array.isArray(object.animation[key])) {\n        object.animation[key].forEach((item) => {\n            keyEquationObject.push([key, item, object]);\n        });\n    } else {\n        keyEquationObject.push([key, object.animation[key], object]);\n    }\n    return keyEquationObject;\n}\n\n\nfunction separate(objectsList) {\n    const propertiesToAnimateList = [];\n    objectsList.forEach((object) => {\n        Object.keys(object.animation).forEach((key) => {\n            propertiesToAnimateList.push(...splitArray(key, object));\n        });\n    });\n    return propertiesToAnimateList;\n}\n\nexport default separate;\n","function translateX(matrix, x) {\n    const modifiedMatrix = matrix;\n\n    modifiedMatrix.e = x;\n\n    return modifiedMatrix;\n}\n\nfunction translateY(matrix, y) {\n    const modifiedMatrix = matrix;\n\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateXY(matrix, x, y) {\n    const modifiedMatrix = matrix;\n\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction rotate(matrix, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction scale(matrix, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction translateXRotate(matrix, x, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n\n    return modifiedMatrix;\n}\n\nfunction translateYRotate(matrix, y, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateXYRotate(matrix, x, y, angle, s) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateXScale(matrix, x, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n\n    return modifiedMatrix;\n}\n\nfunction translateYScale(matrix, y, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateXYScale(matrix, x, y, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction scaleRotate(matrix, s, angle) {\n    const modifiedMatrix = matrix;\n\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n\n    return modifiedMatrix;\n}\n\nfunction translateXScaleRotate(matrix, x, s, angle) {\n    const modifiedMatrix = matrix;\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n\n    return modifiedMatrix;\n}\n\nfunction translateYScaleRotate(matrix, y, s, angle) {\n    const modifiedMatrix = matrix;\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction translateXYScaleRotate(matrix, x, y, s, angle) {\n    const modifiedMatrix = matrix;\n    const c = Math.sin(angle) * s;\n    const a = Math.cos(angle) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nexport {\n    translateX,\n    translateY,\n    translateXY,\n    rotate,\n    scale,\n    translateXRotate,\n    translateYRotate,\n    translateXYRotate,\n    translateXScale,\n    translateYScale,\n    translateXYScale,\n    scaleRotate,\n    translateXScaleRotate,\n    translateYScaleRotate,\n    translateXYScaleRotate,\n};\n","import * as m from './matrix-transformations';\n\nfunction chooseTransformMethod(object, transform) {\n    // shortcuts\n    const v = object.currentAttributes.transform; // current position/scale/rotation object\n    const t = v.translate; // current translation\n    const keys = Object.keys(transform);\n\n    // check of property exist\n    function check(property) {\n        return keys.indexOf(property);\n    }\n\n    let animationFunc;\n\n    if (check('translate') !== -1 && check('rotate') === -1 && check('scale') === -1) {\n        // only translate\n        if (transform.translate.x && transform.translate.y) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                t.y = transform.translate.y(time);\n                const matrix = m.translateXY(object.matrix, t.x, t.y);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.x) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                const matrix = m.translateX(object.matrix, t.x);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.y) {\n            animationFunc = (time) => {\n                t.y = transform.translate.y(time);\n                const matrix = m.translateY(object.matrix, t.y);\n                object.setMatrix(matrix);\n            };\n        }\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // only rotate\n        animationFunc = (time) => {\n            v.rotate = transform.rotate(time);\n            const matrix = m.rotate(object.matrix, v.rotate, v.scale);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') === -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // only scale\n        animationFunc = (time) => {\n            v.scale = transform.scale(time);\n            const matrix = m.scale(object.matrix, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // translate and rotate\n        if (transform.translate.x && transform.translate.y) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                t.y = transform.translate.y(time);\n                const angle = transform.rotate(time);\n                const matrix = m.translateXYRotate(object.matrix, t.x, t.y, angle, v.scale);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.x) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                const angle = transform.rotate(time);\n                const matrix = m.translateXRotate(object.matrix, t.x, angle, v.scale);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.y) {\n            animationFunc = (time) => {\n                t.y = transform.translate.y(time);\n                const angle = transform.rotate(time);\n                const matrix = m.translateYRotate(object.matrix, t.y, angle, v.scale);\n                object.setMatrix(matrix);\n            };\n        }\n    } else if (check('translate') !== -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // translate and scale\n        if (transform.translate.x && transform.translate.y) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                t.y = transform.translate.y(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateXYScale(object.matrix, t.x, t.y, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.x) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateXScale(object.matrix, t.x, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.y) {\n            animationFunc = (time) => {\n                t.y = transform.translate.y(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateYScale(object.matrix, t.y, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        }\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        // scale and rotate\n        animationFunc = (time) => {\n            v.rotate = transform.rotate(time);\n            v.scale = transform.scale(time);\n            const matrix = m.scaleRotate(object.matrix, v.scale, v.rotate);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        // translate, scale, rotate\n        if (transform.translate.x && transform.translate.y) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                t.y = transform.translate.y(time);\n                v.rotate = transform.rotate(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateXYScaleRotate(object.matrix, t.x, t.y, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.x) {\n            animationFunc = (time) => {\n                t.x = transform.translate.x(time);\n                v.rotate = transform.rotate(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateXScaleRotate(object.matrix, t.x, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        } else if (transform.translate.y) {\n            animationFunc = (time) => {\n                t.y = transform.translate.y(time);\n                v.rotate = transform.rotate(time);\n                v.scale = transform.scale(time);\n                const matrix = m.translateYScaleRotate(object.matrix, t.y, v.scale, v.rotate);\n                object.setMatrix(matrix);\n            };\n        }\n    }\n    return animationFunc;\n}\n\nexport default chooseTransformMethod;\n","function applyAttributeAnimation(object, key, animation) {\n    const { currentAttributes } = object;\n    const animationFunction = (time) => {\n        const { value } = animation;\n        currentAttributes[key] = value(time);\n        object.setAttribute(key, currentAttributes[key]);\n    };\n    return animationFunction;\n}\n\nexport default applyAttributeAnimation;\n","import transformControler from './transform/transform-controler';\nimport attributeControler from './attribute/attribute-controler';\n\nfunction applyAnimation(propertiesToAnimateList) {\n    const animationList = [];\n    propertiesToAnimateList.forEach((element) => {\n        const [key, animation, object] = element;\n        if (key === 'transform') {\n            animationList.push([transformControler(object, animation), animation]);\n        } else {\n            animationList.push([attributeControler(object, key, animation), animation]);\n        }\n    });\n    return animationList;\n}\n\nexport default applyAnimation;\n","function infiniteEndpoint(animationFunction, animation) {\n    let rangeFunction;\n    if (animation.local) {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0]) {\n                animationFunction(t - animation.range[0]);\n            }\n        };\n    } else {\n        rangeFunction = (t) => {\n            if (t >= animation.range[0]) {\n                animationFunction(t);\n            }\n        };\n    }\n    return rangeFunction;\n}\n\nexport default infiniteEndpoint;\n","function interval(animationFunction, animation, deleteItemFromLoop) {\r\n    let rangeFunction;\r\n    if (animation.local) {\r\n        rangeFunction = (t) => {\r\n            if (t >= animation.range[0] && t <= animation.range[1]) {\r\n                animationFunction(t - animation.range[0]);\r\n            } else if (t > animation.range[1]) {\r\n                animationFunction(animation.range[1] - animation.range[0]);\r\n                deleteItemFromLoop(rangeFunction);\r\n            }\r\n        };\r\n    } else {\r\n        rangeFunction = (t) => {\r\n            if (t >= animation.range[0] && t <= animation.range[1]) {\r\n                animationFunction(t);\r\n            } else if (t > animation.range[1]) {\r\n                animationFunction(animation.range[1]);\r\n                deleteItemFromLoop(rangeFunction);\r\n            }\r\n        };\r\n    }\r\n    return rangeFunction;\r\n}\r\n\r\nexport default interval;\r\n","function oneTime(animationFunction, animation, deleteItemFromLoop) {\r\n    let rangeFunction;\r\n    if (animation.local) {\r\n        rangeFunction = (t) => {\r\n            if (t >= animation.range) {\r\n                animationFunction(0);\r\n                deleteItemFromLoop(rangeFunction);\r\n            }\r\n        };\r\n    } else {\r\n        rangeFunction = (t) => {\r\n            if (t >= animation.range) {\r\n                animationFunction(animation.range);\r\n                deleteItemFromLoop(rangeFunction);\r\n            }\r\n        };\r\n    }\r\n\r\n    return rangeFunction;\r\n}\r\n\r\nexport default oneTime;\r\n","import { isNumeric } from '../../utils';\nimport infiniteEndpoint from './infnite-endpoint';\nimport interval from './interval';\nimport oneTime from './one-time';\n\nfunction chooseRangeType(animationFunction, animation, deleteItemFromLoop) {\n    let rangeFunction;\n    const { range } = animation;\n    if (Array.isArray(range)) {\n        if (range.length === 1) {\n            rangeFunction = infiniteEndpoint(animationFunction, animation);\n        } else if (range.length === 2) {\n            rangeFunction = interval(animationFunction, animation, deleteItemFromLoop);\n        }\n    } else if (isNumeric(range)) {\n        rangeFunction = oneTime(animationFunction, animation, deleteItemFromLoop);\n    }\n    return rangeFunction;\n}\n\nfunction applyRange(animationList, deleteItemFromLoop) {\n    const loop = [];\n    animationList.forEach((element) => {\n        const [animationFunction, animation] = element;\n        if (animation.range) {\n            loop.push(chooseRangeType(animationFunction, animation, deleteItemFromLoop));\n        } else {\n            loop.push(animationFunction);\n        }\n    });\n    return loop;\n}\n\nexport default applyRange;\n","function constantsReplacer(item) {\n    const values = item[1];\n    const keys = Object.keys(values);\n    keys.forEach((key) => {\n        if (key === 'translate') {\n            if (typeof values[key].x === 'number') {\n                const x = Object.assign(values[key].x);\n                values[key].x = () => x;\n            }\n            if (typeof values[key].y === 'number') {\n                const y = Object.assign(values[key].y);\n                values[key].x = () => y;\n            }\n        } else if (key === 'rotate' || key === 'scale') {\n            if (typeof values[key] === 'number') {\n                const num = Object.assign(values[key]);\n                values[key] = () => num;\n            }\n        } else if (key === 'value') {\n            if (typeof values[key] === 'number' || typeof values[key] === 'string') {\n                const numOrString = Object.assign(values[key]);\n                values[key] = () => numOrString;\n            }\n        }\n    });\n}\n\nexport default constantsReplacer;\n","function linear(t, b, c, d) {\n\treturn c*t/d + b;\n}\nfunction easeInQuad(t, b, c, d) {\n\tt /= d;\n\treturn c*t*t + b;\n}\nfunction easeOutQuad(t, b, c, d) {\n\tt /= d;\n\treturn -c * t*(t-2) + b;\n}\n function easeInOutQuad(t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t + b;\n\tt--;\n\treturn -c/2 * (t*(t-2) - 1) + b;\n}\nfunction easeInCubic(t, b, c, d) {\n\tt /= d;\n\treturn c*t*t*t + b;\n}\nfunction easeOutCubic(t, b, c, d) {\n\tt /= d;\n\tt--;\n\treturn c*(t*t*t + 1) + b;\n}\nfunction easeInOutCubic(t, b, c, d) {\n\tt /= d/2;\n\tif (t < 1) return c/2*t*t*t + b;\n\tt -= 2;\n\treturn c/2*(t*t*t + 2) + b;\n}\n\nexport {\n    linear,\n    easeInQuad,\n    easeOutQuad,\n    easeInOutQuad,\n    easeInCubic,\n    easeOutCubic,\n    easeInOutCubic,\n};\n","import * as e from './easing';\n\nfunction interpret(obj, range, current, name) {\n    const duration = range[1] - range[0];\n    let start = obj.from;\n    let difference = obj.to - start;\n    const easingFunction = e[obj.easing] || e.linear;\n\n    if (start) {\n        return t => easingFunction(t, start, difference, duration);\n    }\n\n    let getCurrentAttribute = () => {\n        start = current[name];\n        if (typeof start === 'undefined') {\n            throw new Error('No starting value! Specify \"from\" value, or add it to animatated SVG element');\n        }\n        difference = obj.to - start;\n        getCurrentAttribute = () => start;\n        return start;\n    };\n\n    return t => easingFunction(t, getCurrentAttribute(), difference, duration);\n}\n\n\nfunction fromToInterpreter(item) {\n    if (Array.isArray(item[1].range) && item[1].range.length === 2) {\n        const { currentAttributes } = item[2];\n        const key = item[0];\n        if (key === 'transform') {\n            const transform = item[1];\n            const other = currentAttributes.transform; // scale or rotate\n            if (typeof transform.translate === 'object') {\n                transform.local = true;\n                const tr = currentAttributes.transform.translate; // actual translation\n                if (typeof transform.translate.x === 'object') {\n                    transform.translate.x = interpret(transform.translate.x, transform.range, tr, 'x');\n                }\n                if (typeof transform.translate.y === 'object') {\n                    transform.translate.y = interpret(transform.translate.y, transform.range, tr, 'y');\n                }\n            }\n            if (typeof transform.rotate === 'object') {\n                transform.local = true;\n                transform.rotate = interpret(transform.rotate, transform.range, other, 'rotate');\n            }\n            if (typeof transform.scale === 'object') {\n                transform.local = true;\n                transform.scale = interpret(transform.scale, transform.range, other, 'scale');\n            }\n        } else {\n            const property = item[1];\n            if (typeof property.value === 'object') {\n                property.local = true;\n                property.value = interpret(property.value, property.range, currentAttributes, key);\n            }\n        }\n    }\n}\n\nexport default fromToInterpreter;\n","import constantsReplacer from './constants-replacer';\nimport fromToInterpreter from './from-to-interpreter';\n\nfunction interpreter(list) {\n    const interpretedList = [];\n    list.forEach((item) => {\n        // replace constants with functions\n        constantsReplacer(item);\n        fromToInterpreter(item);\n        interpretedList.push(item);\n    });\n    return interpretedList;\n}\n\nexport default interpreter;\n","import SVGAnimation from './constructor';\nimport separate from '../engine/separate';\nimport applyAnimation from '../engine/animation/apply-animation';\nimport applyRange from '../engine/range/apply-range';\nimport interpreter from '../engine/interpreter/interpreter';\n\nfunction createMainObjectDispatcher() {\n    SVGAnimation.prototype.dispatcher = function dispatcher(objectList) {\n        // array of [key, animation, objecy] items\n        const propertiesToAnimateList = separate(objectList);\n        // array of [animationFunction, animation (equation. range etc...)]\n        // translate user input\n        const inerpetedPropertiesToAnimateList = interpreter(propertiesToAnimateList);\n\n        const animationList = applyAnimation(inerpetedPropertiesToAnimateList);\n        // array of animationFunction with range applied\n        const deleteItemFromLoop = this.deleteItemFromLoop.bind(this);\n        this.loop.push(...applyRange(animationList, deleteItemFromLoop));\n    };\n}\n\nexport default createMainObjectDispatcher;\n","import SVGAnimation from './constructor';\n\nfunction createMainObjectHelpers() {\n    SVGAnimation.prototype.deleteItemFromLoop = function deleteItemFromLoop(item) {\n        this.loop.splice(this.loop.indexOf(item), 1);\n        if (this.loop < 1) {\n            this.end();\n        }\n    };\n}\n\nexport default createMainObjectHelpers;\n","import { createElNS, setAttrs } from '../utils';\n\nfunction createPlayPause(s, svg) {\n    const group = createElNS('g');\n    const playPause1 = createElNS('polygon');\n    const playPause2 = createElNS('polygon');\n\n    setAttrs(playPause1, ['points', '0,0 0,-20 20,-10 20,-10']);\n    setAttrs(playPause2, ['points', '0,0 0,-20 20,-10 20,-10']);\n\n\n    group.appendChild(playPause1);\n    group.appendChild(playPause2);\n\n    // button\n    const button = createElNS('rect');\n    setAttrs(button, ['x', '0'], ['y', '-20'], ['width', '20'], ['height', '20'], ['fill-opacity', '0']);\n\n    // group button and icon\n\n    const playPauseGroup = createElNS('g');\n    playPauseGroup.appendChild(group);\n    playPauseGroup.appendChild(button);\n\n    // set button and icons to correct position at the bottom left of svg\n    function setPosition() {\n        const viewBox = svg.viewBox.baseVal;\n        const matrix = svg.createSVGMatrix();\n        matrix.e = viewBox.x + (viewBox.width * 0.05);\n        matrix.f = viewBox.y + (viewBox.height * 0.95);\n        const interfaceSize = viewBox.height / 400;\n        matrix.a = interfaceSize;\n        matrix.d = interfaceSize;\n        playPauseGroup.transform.baseVal.initialize(svg.createSVGTransformFromMatrix(matrix));\n    }\n\n    function addUserSettings() {\n        // set color\n        setAttrs(group, ['fill', s.interfaceColor]);\n\n        // set interface size\n        const { matrix } = playPauseGroup.transform.baseVal.getItem(0);\n        matrix.a *= s.interfaceSize;\n        matrix.d *= s.interfaceSize;\n\n\n        // set interface position\n        if (s.interfacePosition !== 'auto') {\n            [matrix.e, matrix.f] = s.interfacePosition;\n        }\n\n        playPauseGroup.transform.baseVal.getItem(0).setMatrix(matrix);\n    }\n    setPosition();\n    addUserSettings();\n    svg.appendChild(playPauseGroup);\n\n    function switchToPause() {\n        let steps = 1;\n        if (!s.interfaceAnimation) {\n            steps = 10;\n        }\n        function animate() {\n            if (steps <= 10) {\n                playPause1.setAttribute('points', `${steps / 10},0 ${steps / 10},-20 ${10 - (steps / 10)},${-15 - (steps / 2)} ${10 - (steps / 10)},${-5 + (steps / 2)}`);\n                playPause2.setAttribute('points', `${10 + (steps / 10)},${-5 + (steps / 2)} ${10 + (steps / 10)},${-15 - (steps / 2)} ${20 - (steps / 10)},${-10 - steps} ${20 - (steps / 10)},${-10 + steps}`);\n                steps += 1;\n                window.requestAnimationFrame(animate);\n            }\n        }\n        animate();\n        // setAttrs(playPause1, ['points', '1,0 1,-20 9,-20 9,0']);\n        // setAttrs(playPause2, ['points', '11,0 11,-20 19,-20 19,0']);\n    }\n    function switchToPlay() {\n        let steps = 10;\n        if (!s.interfaceAnimation) {\n            steps = 1;\n        }\n        function animate() {\n            if (steps >= 0) {\n                playPause1.setAttribute('points', `${steps / 10},0 ${steps / 10},-20 ${10 - (steps / 10)},${-15 - (steps / 2)} ${10 - (steps / 10)},${-5 + (steps / 2)}`);\n                playPause2.setAttribute('points', `${10 + (steps / 10)},${-5 + (steps / 2)} ${10 + (steps / 10)},${-15 - (steps / 2)} ${20 - (steps / 10)},${-10 - steps} ${20 - (steps / 10)},${-10 + steps}`);\n                steps -= 1;\n                window.requestAnimationFrame(animate);\n            } else {\n                playPause1.setAttribute('points', '0,0 0,-20 20,-10 20,-10');\n                playPause2.setAttribute('points', '0,0 0,-20 20,-10 20,-10');\n            }\n        }\n        animate();\n        // setAttrs(playPause1, ['points', '0,0 0,-20 10,-15 10,-5']);\n        // setAttrs(playPause2, ['points', '10,-5 10,-15 20,-10 20,-10']);\n    }\n    function switchPlayPauseOff() {\n        let steps = 1;\n        if (!s.interfaceAnimation) {\n            steps = 10;\n        }\n        function animate() {\n            if (steps <= 10) {\n                playPause1.setAttribute('points', `1,${-steps} 1,${-20 + steps} 9,${-20 + steps} 9,${-steps}`);\n                playPause2.setAttribute('points', `11,${-steps} 11,${-20 + steps} 19,${-20 + steps} 19,${-steps}`);\n                steps += 1;\n                window.requestAnimationFrame(animate);\n            } else {\n                setAttrs(group, ['display', 'none']);\n            }\n        }\n        animate();\n    }\n    function switchPlayPauseOn() {\n        let steps = 10;\n        if (!s.interfaceAnimation) {\n            steps = 0;\n        }\n        function animate() {\n            if (steps >= 0) {\n                playPause1.setAttribute('points', `0,${-steps} 0,${-20 + steps} 20,-10 20,-10`);\n                playPause2.setAttribute('points', `0,${-steps} 0,${-20 + steps} 20,-10 20,-10`);\n                steps -= 1;\n                window.requestAnimationFrame(animate);\n            } else {\n                playPause1.setAttribute('points', '0,0 0,-20 20,-10 20,-10');\n                playPause2.setAttribute('points', '0,0 0,-20 20,-10 20,-10');\n            }\n        }\n        setAttrs(group, ['display', 'block']);\n        animate();\n        // setAttrs(playPause1, ['points', '0,0 0,-20 10,-15 10,-5']);\n        // setAttrs(playPause2, ['points', '10,-5 10,-15 20,-10 20,-10']);\n    }\n\n    return {\n        play: switchToPlay,\n        pause: switchToPause,\n        off: switchPlayPauseOff,\n        on: switchPlayPauseOn,\n        button,\n    };\n}\n\nexport default createPlayPause;\n","import { createElNS, setAttrs } from '../utils';\n\nfunction createRefresh(s, svg) {\n    // arrows\n    const marker = createElNS('marker');\n    marker.id = Math.random() * 10;\n    setAttrs(marker, ['viewBox', '0 0 10 10'], ['refX', '1'], ['refY', '5'], ['markerWidth', '3'], ['markerHeight', '3'], ['orient', 'auto']);\n\n\n    // arrow path\n    const path = createElNS('path');\n    setAttrs(path, ['d', 'M 0 0 L 10 5 L 0 10 z']);\n    marker.appendChild(path);\n\n\n    // icons\n    const refresh = createElNS('g');\n    const arc1 = createElNS('path');\n    const arc2 = createElNS('path');\n    setAttrs(arc1, ['d', 'M0 -10 a 10 10, 90 0 1 10 -10'], ['marker-end', `url(#${marker.id})`], ['stroke-dasharray', '15']);\n    setAttrs(arc2, ['d', 'M20 -10 a 10 10, 90 0 1 -10 10'], ['marker-end', `url(#${marker.id})`], ['stroke-dasharray', '15']);\n    refresh.appendChild(arc1);\n    refresh.appendChild(arc2);\n    setAttrs(refresh, ['fill', 'none'], ['stroke-width', '2'], ['transform', 'translate(30, 0)'], ['display', 'none']);\n\n\n    // button\n    const button = createElNS('rect');\n    setAttrs(button, ['x', '0'], ['y', '-20'], ['width', '20'], ['height', '20'], ['fill-opacity', '0'], ['transform', 'translate(30, 0)']);\n\n    // group button and icon\n\n    const refreshGroup = createElNS('g');\n    refreshGroup.appendChild(refresh);\n    refreshGroup.appendChild(button);\n\n    // set button and icons to correct position at the bottom left of svg\n    function setPosition() {\n        const viewBox = svg.viewBox.baseVal;\n        const matrix = svg.createSVGMatrix();\n        matrix.e = viewBox.x + (viewBox.width * 0.05);\n        matrix.f = viewBox.y + (viewBox.height * 0.95);\n        const interfaceSize = viewBox.height / 400;\n        matrix.a = interfaceSize;\n        matrix.d = interfaceSize;\n        refreshGroup.transform.baseVal.initialize(svg.createSVGTransformFromMatrix(matrix));\n    }\n\n    function addUserSettings() {\n    // set color\n        setAttrs(refresh, ['stroke', s.interfaceColor]);\n        setAttrs(marker, ['fill', s.interfaceColor]);\n        // set interface size\n        const { matrix } = refreshGroup.transform.baseVal.getItem(0);\n        matrix.a *= s.interfaceSize;\n        matrix.d *= s.interfaceSize;\n\n        // set interface position\n        if (s.interfacePosition !== 'auto') {\n            [matrix.e, matrix.f] = s.interfacePosition;\n        }\n\n        refreshGroup.transform.baseVal.getItem(0).setMatrix(matrix);\n    }\n    let defs = svg.getElementsByTagName('defs')[0];\n\n    // check for defs element in DOM, if not exist - add it\n    if (!defs) {\n        defs = createElNS('defs');\n        svg.insertBefore(defs, svg.firstChild);\n    }\n\n    setPosition();\n\n    addUserSettings();\n\n    // add button to DOM\n    defs.appendChild(marker);\n    svg.appendChild(refreshGroup);\n\n    function switchRefreshOff() {\n        let steps = 1;\n        if (!s.interfaceAnimation) {\n            steps = 10;\n        }\n        function animate() {\n            if (steps <= 10) {\n                arc1.setAttribute('stroke-dashoffset', -steps * 1.5);\n                arc2.setAttribute('stroke-dashoffset', -steps * 1.5);\n                steps += 1;\n                window.requestAnimationFrame(animate);\n            } else {\n                setAttrs(refresh, ['display', 'none']);\n            }\n        }\n        animate();\n    }\n\n    function switchRefreshOn() {\n        setAttrs(refresh, ['display', 'block']);\n        let steps = 10;\n        if (!s.interfaceAnimation) {\n            steps = 1;\n        }\n        function animate() {\n            if (steps >= 0) {\n                arc1.setAttribute('stroke-dashoffset', -steps * 1.5);\n                arc2.setAttribute('stroke-dashoffset', -steps * 1.5);\n                steps -= 1;\n                window.requestAnimationFrame(animate);\n            }\n        }\n        animate();\n    }\n\n    return {\n        off: switchRefreshOff,\n        on: switchRefreshOn,\n        button,\n    };\n}\n\nexport default createRefresh;\n","import SVGAnimation from './constructor';\nimport createPlayPause from '../interface/playpause';\nimport createRefresh from '../interface/refresh';\n\nfunction createInterfaceControler() {\n    SVGAnimation.prototype.interfaceControler = function interfaceControler() {\n        const playPause = createPlayPause(this.settings, this.svg);\n        const refresh = createRefresh(this.settings, this.svg);\n\n        const that = this;\n\n        function controlPlayPause() {\n            if (that.status === 'not started' || that.status === 'paused') {\n                that.play();\n            } else if (that.status === 'playing') {\n                that.pause();\n            }\n        }\n\n        function controlRefresh() {\n            if (that.status === 'playing' || that.status === 'paused' || that.status === 'ended') {\n                that.refresh();\n            }\n        }\n        playPause.button.addEventListener('click', controlPlayPause, false);\n        refresh.button.addEventListener('click', controlRefresh, false);\n\n        return {\n            playPause,\n            refresh,\n        };\n    };\n}\n\nexport default createInterfaceControler;\n","function getAttributes(object) {\n    const list = new Map();\n    const { attributes } = object;\n    for (let i = 0; i < attributes.length; i += 1) {\n        if (attributes[i].specified) {\n            list.set(attributes[i].name, attributes[i].value);\n        }\n    }\n    return list;\n}\n\nfunction resetAttributes(object, attributes) {\n    // remove all attributes\n    while (object.attributes.length > 0) {\n        object.removeAttribute(object.attributes[0].name);\n    }\n    // set new attributes\n    attributes.forEach((value, key) => {\n        object.setAttribute(key, value);\n    });\n}\n\nfunction parseAttributes(attributes) {\n    const variables = {};\n    attributes.forEach((value, key) => {\n        if (key !== 'id' && key !== 'class' && key !== 'transform') {\n            const parsedValue = parseFloat(value);\n            if (!Number.isNaN(parsedValue) && parsedValue.toString() === value) {\n                variables[key] = parsedValue;\n            } else {\n                variables[key] = value;\n            }\n        }\n    });\n    return variables;\n}\n\nexport { getAttributes, resetAttributes, parseAttributes };\n","function initMatrix(object, svg) {\n    let matrix = null;\n    const svgTransform = object.transform.baseVal;\n    if (svgTransform.length) {\n        svgTransform.consolidate();\n        ({ matrix } = svgTransform.getItem(0));\n    } else {\n        matrix = svg.createSVGMatrix();\n    }\n    svgTransform.initialize(svg.createSVGTransformFromMatrix(matrix));\n}\n\nfunction decomposeMatrix(m) {\n    const transform = {};\n    transform.translate = {\n        x: m.e,\n        y: m.f,\n    };\n    transform.scale = Math.sign(m.a) * Math.sqrt((m.a * m.a) + (m.c * m.c));\n    transform.rotate = Math.atan2(-m.c, m.a) * (180 / Math.PI);\n\n    return transform;\n}\nexport { initMatrix, decomposeMatrix };\n","import { getAttributes, resetAttributes, parseAttributes } from './helpers/attributes';\nimport { initMatrix, decomposeMatrix } from './helpers/matrix';\n\nclass AnimatedObject {\n    constructor(item) {\n        this.item = item;\n    }\n    setVariables() {\n        this.startingAttributes = getAttributes(this.item);\n        this.currentAttributes = parseAttributes(this.startingAttributes);\n    }\n    initMatrix(settings) {\n        initMatrix(this.item, settings);\n        this.matrix = this.item.transform.baseVal.getItem(0).matrix;\n        this.SVGTransform = this.item.transform.baseVal.getItem(0);\n    }\n    resetAttributes() {\n        resetAttributes(this.item, this.startingAttributes);\n    }\n    decomposeMatrix() {\n        this.currentAttributes.transform = decomposeMatrix(this.matrix);\n    }\n    setMatrix(matrix) {\n        this.SVGTransform.setMatrix(matrix);\n    }\n    setAttribute(name, value) {\n        this.item.setAttributeNS(null, name, value);\n    }\n}\n\nexport default AnimatedObject;\n","import SVGAnimation from './constructor';\nimport { findSVGParent } from '../utils';\nimport AnimatedObject from '../animated-object/constructor';\n\nfunction createMainObjectAddFunction() {\n    SVGAnimation.prototype.add = function add(...objects) {\n        const tempObjectList = new Set();\n        objects.forEach((object) => {\n            // check if object has \"object property\"\n            if (!Object.prototype.hasOwnProperty.call(object, 'object')) {\n                throw new Error(`Object ${object} must have \"object\" property. which is query selector or actual DOM object`);\n            }\n            // declare DOM object based on user input\n            const DOMObject = typeof object.object === 'string' ? document.querySelector(object.object) : object.object;\n            // check DOM object exsist\n            if (!document.contains(DOMObject)) {\n                throw new Error(`Cannot find ${typeof object.object === 'string' ? `DOM element that match \"${object.object}\" query selector` : `${object.object} in DOM`}`);\n            }\n            // create animated object\n            const tempObject = new AnimatedObject(DOMObject);\n\n            if (Object.prototype.hasOwnProperty.call(object, 'animation')) {\n                tempObject.animation = object.animation;\n            } else {\n                throw new Error(`Object ${object} must have \"animation\" property`);\n            }\n            // find SVG parent\n            if (!this.svg) {\n                this.svg = findSVGParent(tempObject);\n            }\n            tempObjectList.add(tempObject);\n            tempObject.setVariables();\n            // initialize transformation matrix\n            tempObject.initMatrix(this.svg);\n            // decompose initial matrix\n            tempObject.decomposeMatrix();\n            this.objectList.add(tempObject);\n        });\n        // enable interface if needed\n        if (typeof this.interfaceControler === 'function' && this.settings.showInterface) {\n            this.interfaceControler = this.interfaceControler();\n        }\n        this.dispatcher(tempObjectList);\n    };\n}\n\nexport default createMainObjectAddFunction;\n","\nimport SVGAnimation from './main-object/constructor';\n\nimport createPlayer from './main-object/player';\nimport createDrawFunction from './main-object/draw';\nimport createMainObjectDispatcher from './main-object/dispatcher';\nimport createMainObjectHelpers from './main-object/helpers';\nimport createInterfaceControler from './main-object/interface-controler';\nimport createMainObjectAddFunction from './main-object/add';\n\ncreatePlayer();\ncreateDrawFunction();\ncreateMainObjectDispatcher();\ncreateMainObjectHelpers();\ncreateInterfaceControler();\ncreateMainObjectAddFunction();\n\nexport default SVGAnimation;\n"],"names":["SVGAnimation","m.translateXY","m.translateX","m.translateY","m.rotate","m.scale","m.translateXYRotate","m.translateXRotate","m.translateYRotate","m.translateXYScale","m.translateXScale","m.translateYScale","m.scaleRotate","m.translateXYScaleRotate","m.translateXScaleRotate","m.translateYScaleRotate","transformControler","attributeControler","e.linear"],"mappings":"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"}