{"version":3,"file":"svganimation.js","sources":["../../src/js/utils.js","../../src/js/settings.js","../../src/js/interface/buttons/refresh.js","../../src/js/interface/buttons/playpause.js","../../src/js/interface/interface.js","../../src/js/engine/animation-functions/transform/matrix-transformations.js","../../src/js/engine/animation-functions/transform/transform-controler.js","../../src/js/engine/dispatcher.js","../../src/js/engine/controler.js","../../src/js/engine/draw.js","../../src/js/engine/timer.js","../../src/js/player.js","../../src/js/engine/helpers/attributes.js","../../src/js/engine/helpers/matrix.js","../../src/js/engine/object.js","../../src/js/index.js"],"sourcesContent":["\n// check if argument is undefined\nfunction undef(item) {\n    return (typeof item === 'undefined');\n}\n\n// create element NS\n// accepts element name as paramater\nfunction createElNS(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n// set multiple attributtes NS\n// setAttrs(element, [name, value], [name2,value2]...)\nfunction setAttrs(element, ...attributtes) {\n    attributtes.forEach((attributte) => {\n        element.setAttributeNS(null, attributte[0], attributte[1]);\n    });\n}\n\nexport { undef, createElNS, setAttrs };\n","import { undef } from './utils';\n\nconst defaultSettings = {\n    svg: document.querySelector('svg'),\n    showInterface: true,\n    interfaceAnimation: true,\n    interfaceSize: 1,\n    interfaceColor: '#000',\n    interfacePosition: 'auto',\n};\nconst compiledSettings = {};\n\nfunction compileSettings() {\n    Object.keys(defaultSettings).forEach((rule) => {\n        if (!undef(svganimation.settings) && !undef(svganimation.settings[rule])) {\n            compiledSettings[rule] = svganimation.settings[rule];\n        } else {\n            compiledSettings[rule] = defaultSettings[rule];\n        }\n    });\n}\n\nexport { compileSettings, compiledSettings };\n","import { compiledSettings as s } from '../../settings';\nimport { createElNS, setAttrs } from '../../utils';\n\n// arrows\nconst marker = createElNS('marker');\nmarker.id = 'arrow';\nsetAttrs(marker, ['viewBox', '0 0 10 10'], ['refX', '1'], ['refY', '5'], ['markerWidth', '3'], ['markerHeight', '3'], ['orient', 'auto']);\n\n\n// arrow path\nconst path = createElNS('path');\nsetAttrs(path, ['d', 'M 0 0 L 10 5 L 0 10 z']);\nmarker.appendChild(path);\n\n\n// icons\nconst refresh = createElNS('g');\nconst arc1 = createElNS('path');\nconst arc2 = createElNS('path');\nsetAttrs(arc1, ['d', 'M-10 0 A 10 10 0 0 1 0 -10'], ['marker-end', 'url(#arrow)']);\nsetAttrs(arc2, ['d', 'M10 0 A 10 10 0 0 1 0 10'], ['marker-end', 'url(#arrow)']);\nrefresh.appendChild(arc1);\nrefresh.appendChild(arc2);\nsetAttrs(refresh, ['fill', 'none'], ['stroke-width', '2'], ['transform', 'translate(30, 0)']);\n\n\n// button\nconst button = createElNS('rect');\nbutton.id = 'refresh';\nsetAttrs(button, ['x', '-10'], ['y', '-10'], ['width', '20'], ['height', '20'], ['fill-opacity', '0'], ['transform', 'translate(30, 0)']);\n\n// group button and icon\n\nconst refreshGroup = createElNS('g');\nrefreshGroup.appendChild(refresh);\nrefreshGroup.appendChild(button);\n\n// set button and icons to correct position at the bottom left of svg\nfunction setPosition() {\n    const viewBox = s.svg.viewBox.baseVal;\n    const matrix = s.svg.createSVGMatrix();\n    matrix.e = viewBox.x + 25;\n    matrix.f = viewBox.y + (viewBox.height - 25);\n    refreshGroup.transform.baseVal.initialize(s.svg.createSVGTransformFromMatrix(matrix));\n}\n\nfunction addUserSettings() {\n    // set color\n    setAttrs(refresh, ['stroke', s.interfaceColor]);\n    setAttrs(marker, ['fill', s.interfaceColor]);\n\n    // set interface size\n    const { matrix } = refreshGroup.transform.baseVal.getItem(0);\n    matrix.a = s.interfaceSize;\n    matrix.d = s.interfaceSize;\n\n    // set interface position\n    if (s.interfacePosition !== 'auto') {\n        [matrix.e, matrix.f] = s.interfacePosition;\n    }\n\n    refreshGroup.transform.baseVal.getItem(0).setMatrix(matrix);\n}\n\nfunction switchRefreshOff() {\n    setAttrs(refresh, ['display', 'none']);\n}\n\nfunction switchRefreshOn() {\n    setAttrs(refresh, ['display', 'block']);\n}\n\nfunction addButtonToDOM() {\n    let defs = s.svg.getElementsByTagName('defs')[0];\n\n    // check for defs element in DOM, if not exist - add it\n    if (!defs) {\n        defs = createElNS('defs');\n        s.svg.insertBefore(defs, s.svg.firstChild);\n    }\n\n    setPosition();\n\n    addUserSettings();\n\n    // add button to DOM\n    defs.appendChild(marker);\n    s.svg.appendChild(refreshGroup);\n}\n\nexport { addButtonToDOM as refresh, switchRefreshOff, switchRefreshOn, button as refreshButton };\n","import { compiledSettings as s } from '../../settings';\nimport { createElNS, setAttrs } from '../../utils';\n\nconst group = createElNS('g');\nconst playPause1 = createElNS('polygon');\nconst playPause2 = createElNS('polygon');\n\nsetAttrs(playPause1, ['points', '-10,-10 -10,10 0,-5 0,5']);\nsetAttrs(playPause2, ['points', '-10,-10 -10,10 10,0 10,0']);\n\n\ngroup.appendChild(playPause1);\ngroup.appendChild(playPause2);\n\n// button\nconst button = createElNS('rect');\nbutton.id = 'playPause';\nsetAttrs(button, ['x', '-10'], ['y', '-10'], ['width', '20'], ['height', '20'], ['fill-opacity', '0']);\n\n// group button and icon\n\nconst playPauseGroup = createElNS('g');\nplayPauseGroup.appendChild(group);\nplayPauseGroup.appendChild(button);\n\n// set button and icons to correct position at the bottom left of svg\nfunction setPosition() {\n    const viewBox = s.svg.viewBox.baseVal;\n    const matrix = s.svg.createSVGMatrix();\n    matrix.e = viewBox.x + 25;\n    matrix.f = viewBox.y + (viewBox.height - 25);\n    playPauseGroup.transform.baseVal.initialize(s.svg.createSVGTransformFromMatrix(matrix));\n}\n\nfunction addUserSettings() {\n    // set color\n    setAttrs(group, ['fill', s.interfaceColor]);\n\n    // set interface size\n    const { matrix } = playPauseGroup.transform.baseVal.getItem(0);\n    matrix.a = s.interfaceSize;\n    matrix.d = s.interfaceSize;\n\n    // set interface position\n    if (s.interfacePosition !== 'auto') {\n        [matrix.e, matrix.f] = s.interfacePosition;\n    }\n\n    playPauseGroup.transform.baseVal.getItem(0).setMatrix(matrix);\n}\n\nfunction switchToPause() {\n    setAttrs(playPause1, ['points', '-9,-10 -9,10 -2,10 -2,-10']);\n    setAttrs(playPause2, ['points', '2,-10 2,10 9,10 9,-10']);\n}\nfunction switchToPlay() {\n    setAttrs(playPause1, ['points', '-10,-10 -10,10 0,-5 0,5']);\n    setAttrs(playPause2, ['points', '-10,-10 -10,10 10,0 10,0']);\n}\n\nfunction addButtonToDOM() {\n    setPosition();\n    addUserSettings();\n    s.svg.appendChild(playPauseGroup);\n}\n\nexport { addButtonToDOM as playPause, switchToPause, switchToPlay, button as playButton };\n","import { refresh } from './buttons/refresh';\nimport { playPause } from './buttons/playpause';\n\nfunction start() {\n    refresh();\n    playPause();\n}\n\nexport default start;\n","\n\nfunction translate(matrix, x, y) {\n    const modifiedMatrix = matrix;\n\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nfunction scaleAndRotateAndTranslate(matrix, s, angle, x, y) {\n    const modifiedMatrix = matrix;\n    const r = (-angle * Math.PI) / 180;\n    const c = Math.sin(r) * s;\n    const a = Math.cos(r) * s;\n\n    modifiedMatrix.a = a;\n    modifiedMatrix.b = -c;\n    modifiedMatrix.c = c;\n    modifiedMatrix.d = a;\n    modifiedMatrix.e = x;\n    modifiedMatrix.f = y;\n\n    return modifiedMatrix;\n}\n\nexport { translate, scaleAndRotateAndTranslate };\n","import { translate } from './matrix-transformations';\n\nfunction chooseTransformMethod(object) {\n    const { transform } = object.animation;\n    const keys = Object.keys(transform);\n\n    function check(property) {\n        return keys.indexOf(property);\n    }\n\n    let animationFunc;\n\n    if (check('translate') !== -1 && check('rotate') === -1 && check('scale') === -1) {\n        // only translate\n        animationFunc = (time) => {\n            const x = transform.translate.x(time);\n            const y = transform.translate.y(time);\n            const matrix = translate(object.matrix, x, y);\n            object.setMatrix(matrix);\n        };\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // only rotate\n        console.log('rotate');\n    } else if (check('translate') === -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // only scale\n        console.log('scale');\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') === -1) {\n        // translate and rotate\n        console.log('translate and rotate');\n    } else if (check('translate') !== -1 && check('rotate') === -1 && check('scale') !== -1) {\n        // translate and scale\n        console.log('translate and scale');\n    } else if (check('translate') === -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        // rotate and scale\n        console.log('rotate and scale');\n    } else if (check('translate') !== -1 && check('rotate') !== -1 && check('scale') !== -1) {\n        // translate, rotate and scale\n        console.log('translate, rotate and scale');\n    }\n\n    return animationFunc;\n}\n\nexport default chooseTransformMethod;\n","import transformControler from './animation-functions/transform/transform-controler';\n\nconst animationLoop = [];\n\nfunction prepare(objectsList) {\n    objectsList.forEach((object) => {\n        const keys = Object.keys(object.animation);\n        keys.forEach((key) => {\n            if (key === 'transform') {\n                animationLoop.push(transformControler(object));\n            }\n        });\n    });\n}\n\nexport { prepare, animationLoop };\n","import { prepare } from './dispatcher';\n\nconst objectList = new Set();\n\nfunction add(...objects) {\n    objects.forEach((object) => {\n        if (Object.prototype.hasOwnProperty.call(object, 'animation')) {\n            objectList.add(object);\n        }\n    });\n    prepare(objectList);\n}\n\nfunction init() {\n    objectList.forEach((object) => {\n        object.setVariables();\n        object.initMatrix();\n        object.decomposeMatrix();\n    });\n}\n\nfunction reset() {\n    objectList.forEach((object) => {\n        object.resetAttributes();\n        object.setVariables();\n        object.initMatrix();\n        object.decomposeMatrix();\n    });\n}\n\nexport { add, init, reset };\n","import { animationLoop as loop } from './dispatcher';\n\nfunction frame(time) {\n    for (let i = 0; i < loop.length; i += 1) {\n        loop[i](time);\n    }\n}\n\nexport default frame;\n","import { reset } from './controler';\nimport frame from './draw';\n\nlet animationID = 0;\nlet startTime = 0;\nlet time = 0;\n\nfunction animate() {\n    function startLoop() {\n        time = Date.now() - startTime;\n        frame(time / 1000);\n        animationID = window.requestAnimationFrame(startLoop);\n    }\n    animationID = window.requestAnimationFrame(startLoop);\n}\n\nfunction start() {\n    startTime = Date.now();\n    animate();\n}\n\nfunction resume() {\n    startTime = Date.now() - time;\n    animate();\n}\n\nfunction pause() {\n    window.cancelAnimationFrame(animationID);\n}\n\nfunction refresh() {\n    window.cancelAnimationFrame(animationID);\n    startTime = 0;\n    time = 0;\n    reset();\n}\n\nexport { start, pause, resume, refresh };\n","import { switchRefreshOff, switchRefreshOn, refreshButton } from './interface/buttons/refresh';\nimport { switchToPause, switchToPlay, playButton } from './interface/buttons/playpause';\nimport { start as play, pause, resume, refresh } from './engine/timer';\n\nlet status = 'not started';\n\nfunction playStop() {\n    if (status === 'not started') {\n        status = 'playing';\n        switchRefreshOn();\n        switchToPause();\n        play();\n    } else if (status === 'playing') {\n        status = 'paused';\n        pause();\n        switchToPlay();\n    } else if (status === 'paused') {\n        status = 'playing';\n        resume();\n        switchToPause();\n    }\n}\n\nfunction reset() {\n    if (status === 'playing' || status === 'paused' || status === 'ended') {\n        status = 'not started';\n        switchRefreshOff();\n        refresh();\n        switchToPlay();\n    }\n}\nfunction start() {\n    playButton.addEventListener('click', playStop, false);\n    switchRefreshOff();\n    refreshButton.addEventListener('click', reset, false);\n}\n\nexport default start;\n","function getAttributes(object) {\n    const list = new Map();\n    const { attributes } = object;\n    for (let i = 0; i < attributes.length; i += 1) {\n        if (attributes[i].specified) {\n            list.set(attributes[i].name, parseFloat(attributes[i].value) || attributes[i].value);\n        }\n    }\n    return list;\n}\n\nfunction resetAttributes(object, attributes) {\n    // remove all attributes\n    while (object.attributes.length > 0) {\n        object.removeAttribute(object.attributes[0].name);\n    }\n    // set new attributes\n    attributes.forEach((value, key) => {\n        object.setAttribute(key, value);\n    });\n}\n\nexport { getAttributes, resetAttributes };\n","import { compiledSettings } from '../../settings';\n\nfunction initMatrix(object) {\n    let matrix = null;\n    const svgTransform = object.transform.baseVal;\n    if (svgTransform.length) {\n        svgTransform.consolidate();\n        ({ matrix } = svgTransform.getItem(0));\n    } else {\n        matrix = compiledSettings.svg.createSVGMatrix();\n    }\n    svgTransform.initialize(compiledSettings.svg.createSVGTransformFromMatrix(matrix));\n}\n\nfunction decomposeMatrix(m) {\n    const transform = {};\n    transform.translate = {\n        x: m.e,\n        y: m.f,\n    };\n    transform.scale = Math.sign(m.a) * Math.sqrt((m.a * m.a) + (m.c * m.c));\n    transform.rotate = Math.atan2(-m.c, m.a) * (180 / Math.PI);\n\n    return transform;\n}\nexport { initMatrix, decomposeMatrix };\n","import { getAttributes, resetAttributes } from './helpers/attributes';\nimport { initMatrix, decomposeMatrix } from './helpers/matrix';\n\nclass Obj {\n    constructor(item) {\n        this.item = item;\n        this.t = null;\n    }\n    setVariables() {\n        this.variables = getAttributes(this.item);\n    }\n    initMatrix() {\n        initMatrix(this.item);\n        this.matrix = this.item.transform.baseVal.getItem(0).matrix;\n        this.SVGTransform = this.item.transform.baseVal.getItem(0);\n    }\n    resetAttributes() {\n        resetAttributes(this.item, this.variables);\n    }\n    decomposeMatrix() {\n        this.transform = decomposeMatrix(this.matrix);\n    }\n    setMatrix(matrix) {\n        this.SVGTransform.setMatrix(matrix);\n    }\n}\n\nexport default Obj;\n","import icons from './interface/interface';\nimport { compileSettings } from './settings';\nimport player from './player';\nimport Obj from './engine/object';\nimport { add, init } from './engine/controler';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    compileSettings();\n    icons();\n    player();\n    init();\n});\n\nexport { Obj, add };\n"],"names":["s","button","setPosition","addUserSettings","addButtonToDOM","start","refresh","playPause","chooseTransformMethod","transformControler","reset","loop","play","playButton","refreshButton","icons","player"],"mappings":";;;AACA;AACA,SAAS,KAAK,CAAC,IAAI,EAAE;IACjB,QAAQ,OAAO,IAAI,KAAK,WAAW,EAAE;CACxC;;;;AAID,SAAS,UAAU,CAAC,IAAI,EAAE;IACtB,OAAO,QAAQ,CAAC,eAAe,CAAC,4BAA4B,EAAE,IAAI,CAAC,CAAC;CACvE;;;;AAID,SAAS,QAAQ,CAAC,OAAO,EAAE,GAAG,WAAW,EAAE;IACvC,WAAW,CAAC,OAAO,CAAC,CAAC,UAAU,KAAK;QAChC,OAAO,CAAC,cAAc,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9D,CAAC,CAAC;CACN;;AChBD,MAAM,eAAe,GAAG;IACpB,GAAG,EAAE,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC;IAClC,aAAa,EAAE,IAAI;IACnB,kBAAkB,EAAE,IAAI;IACxB,aAAa,EAAE,CAAC;IAChB,cAAc,EAAE,MAAM;IACtB,iBAAiB,EAAE,MAAM;CAC5B,CAAC;AACF,MAAM,gBAAgB,GAAG,EAAE,CAAC;;AAE5B,SAAS,eAAe,GAAG;IACvB,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;QAC3C,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE;YACtE,gBAAgB,CAAC,IAAI,CAAC,GAAG,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;SACxD,MAAM;YACH,gBAAgB,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC,IAAI,CAAC,CAAC;SAClD;KACJ,CAAC,CAAC;CACN;;ACjBD;AACA,MAAM,MAAM,GAAG,UAAU,CAAC,QAAQ,CAAC,CAAC;AACpC,MAAM,CAAC,EAAE,GAAG,OAAO,CAAC;AACpB,QAAQ,CAAC,MAAM,EAAE,CAAC,SAAS,EAAE,WAAW,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,CAAC,aAAa,EAAE,GAAG,CAAC,EAAE,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;;;;AAI1I,MAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAChC,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAC,CAAC;AAC/C,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;;;AAIzB,MAAM,OAAO,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AAChC,MAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAChC,MAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAChC,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,4BAA4B,CAAC,EAAE,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC,CAAC;AACnF,QAAQ,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,0BAA0B,CAAC,EAAE,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC,CAAC;AACjF,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC1B,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC1B,QAAQ,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC,CAAC;;;;AAI9F,MAAM,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAClC,MAAM,CAAC,EAAE,GAAG,SAAS,CAAC;AACtB,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,GAAG,CAAC,EAAE,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC,CAAC;;;;AAI1I,MAAM,YAAY,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AACrC,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;AAClC,YAAY,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;;AAGjC,SAAS,WAAW,GAAG;IACnB,MAAM,OAAO,GAAGA,gBAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;IACtC,MAAM,MAAM,GAAGA,gBAAC,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC;IACvC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;IAC1B,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;IAC7C,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAACA,gBAAC,CAAC,GAAG,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC;CACzF;;AAED,SAAS,eAAe,GAAG;;IAEvB,QAAQ,CAAC,OAAO,EAAE,CAAC,QAAQ,EAAEA,gBAAC,CAAC,cAAc,CAAC,CAAC,CAAC;IAChD,QAAQ,CAAC,MAAM,EAAE,CAAC,MAAM,EAAEA,gBAAC,CAAC,cAAc,CAAC,CAAC,CAAC;;;IAG7C,MAAM,EAAE,MAAM,EAAE,GAAG,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAGA,gBAAC,CAAC,aAAa,CAAC;IAC3B,MAAM,CAAC,CAAC,GAAGA,gBAAC,CAAC,aAAa,CAAC;;;IAG3B,IAAIA,gBAAC,CAAC,iBAAiB,KAAK,MAAM,EAAE;QAChC,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAGA,gBAAC,CAAC,iBAAiB,CAAC;KAC9C;;IAED,YAAY,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;CAC/D;;AAED,SAAS,gBAAgB,GAAG;IACxB,QAAQ,CAAC,OAAO,EAAE,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC;CAC1C;;AAED,SAAS,eAAe,GAAG;IACvB,QAAQ,CAAC,OAAO,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;CAC3C;;AAED,SAAS,cAAc,GAAG;IACtB,IAAI,IAAI,GAAGA,gBAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;;;IAGjD,IAAI,CAAC,IAAI,EAAE;QACP,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;QAC1BA,gBAAC,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,EAAEA,gBAAC,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;KAC9C;;IAED,WAAW,EAAE,CAAC;;IAEd,eAAe,EAAE,CAAC;;;IAGlB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACzBA,gBAAC,CAAC,GAAG,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;CACnC;;ACrFD,MAAM,KAAK,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AAC9B,MAAM,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;AACzC,MAAM,UAAU,GAAG,UAAU,CAAC,SAAS,CAAC,CAAC;;AAEzC,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,yBAAyB,CAAC,CAAC,CAAC;AAC5D,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,0BAA0B,CAAC,CAAC,CAAC;;;AAG7D,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;AAC9B,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;;;AAG9B,MAAMC,QAAM,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;AAClCA,QAAM,CAAC,EAAE,GAAG,WAAW,CAAC;AACxB,QAAQ,CAACA,QAAM,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,cAAc,EAAE,GAAG,CAAC,CAAC,CAAC;;;;AAIvG,MAAM,cAAc,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AACvC,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;AAClC,cAAc,CAAC,WAAW,CAACA,QAAM,CAAC,CAAC;;;AAGnC,SAASC,aAAW,GAAG;IACnB,MAAM,OAAO,GAAGF,gBAAC,CAAC,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC;IACtC,MAAM,MAAM,GAAGA,gBAAC,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC;IACvC,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC;IAC1B,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC,CAAC,IAAI,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;IAC7C,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,UAAU,CAACA,gBAAC,CAAC,GAAG,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC;CAC3F;;AAED,SAASG,iBAAe,GAAG;;IAEvB,QAAQ,CAAC,KAAK,EAAE,CAAC,MAAM,EAAEH,gBAAC,CAAC,cAAc,CAAC,CAAC,CAAC;;;IAG5C,MAAM,EAAE,MAAM,EAAE,GAAG,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/D,MAAM,CAAC,CAAC,GAAGA,gBAAC,CAAC,aAAa,CAAC;IAC3B,MAAM,CAAC,CAAC,GAAGA,gBAAC,CAAC,aAAa,CAAC;;;IAG3B,IAAIA,gBAAC,CAAC,iBAAiB,KAAK,MAAM,EAAE;QAChC,CAAC,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,GAAGA,gBAAC,CAAC,iBAAiB,CAAC;KAC9C;;IAED,cAAc,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;CACjE;;AAED,SAAS,aAAa,GAAG;IACrB,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,2BAA2B,CAAC,CAAC,CAAC;IAC9D,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,uBAAuB,CAAC,CAAC,CAAC;CAC7D;AACD,SAAS,YAAY,GAAG;IACpB,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,yBAAyB,CAAC,CAAC,CAAC;IAC5D,QAAQ,CAAC,UAAU,EAAE,CAAC,QAAQ,EAAE,0BAA0B,CAAC,CAAC,CAAC;CAChE;;AAED,SAASI,gBAAc,GAAG;IACtBF,aAAW,EAAE,CAAC;IACdC,iBAAe,EAAE,CAAC;IAClBH,gBAAC,CAAC,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;CACrC;;AC7DD,SAASK,OAAK,GAAG;IACbC,cAAO,EAAE,CAAC;IACVC,gBAAS,EAAE,CAAC;CACf;;ACJD,SAAS,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE;IAC7B,MAAM,cAAc,GAAG,MAAM,CAAC;;IAE9B,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;IACrB,cAAc,CAAC,CAAC,GAAG,CAAC,CAAC;;IAErB,OAAO,cAAc,CAAC;CACzB;;ACPD,SAASC,uBAAqB,CAAC,MAAM,EAAE;IACnC,MAAM,EAAE,SAAS,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC;IACvC,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;;IAEpC,SAAS,KAAK,CAAC,QAAQ,EAAE;QACrB,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;KACjC;;IAED,IAAI,aAAa,CAAC;;IAElB,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAE9E,aAAa,GAAG,CAAC,IAAI,KAAK;YACtB,MAAM,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACtC,MAAM,CAAC,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9C,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;SAC5B,CAAC;KACL,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;KACzB,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;KACxB,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;KACvC,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;KACtC,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;KACnC,MAAM,IAAI,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;;QAErF,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;KAC9C;;IAED,OAAO,aAAa,CAAC;CACxB;;ACvCD,MAAM,aAAa,GAAG,EAAE,CAAC;;AAEzB,SAAS,OAAO,CAAC,WAAW,EAAE;IAC1B,WAAW,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;QAC5B,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;YAClB,IAAI,GAAG,KAAK,WAAW,EAAE;gBACrB,aAAa,CAAC,IAAI,CAACC,uBAAkB,CAAC,MAAM,CAAC,CAAC,CAAC;aAClD;SACJ,CAAC,CAAC;KACN,CAAC,CAAC;CACN;;ACXD,MAAM,UAAU,GAAG,IAAI,GAAG,EAAE,CAAC;;AAE7B,SAAS,GAAG,CAAC,GAAG,OAAO,EAAE;IACrB,OAAO,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;QACxB,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,EAAE;YAC3D,UAAU,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;SAC1B;KACJ,CAAC,CAAC;IACH,OAAO,CAAC,UAAU,CAAC,CAAC;CACvB;;AAED,SAAS,IAAI,GAAG;IACZ,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;QAC3B,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,UAAU,EAAE,CAAC;QACpB,MAAM,CAAC,eAAe,EAAE,CAAC;KAC5B,CAAC,CAAC;CACN;;AAED,SAASC,OAAK,GAAG;IACb,UAAU,CAAC,OAAO,CAAC,CAAC,MAAM,KAAK;QAC3B,MAAM,CAAC,eAAe,EAAE,CAAC;QACzB,MAAM,CAAC,YAAY,EAAE,CAAC;QACtB,MAAM,CAAC,UAAU,EAAE,CAAC;QACpB,MAAM,CAAC,eAAe,EAAE,CAAC;KAC5B,CAAC,CAAC;CACN;;AC1BD,SAAS,KAAK,CAAC,IAAI,EAAE;IACjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAGC,aAAI,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QACrCA,aAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KACjB;CACJ;;ACHD,IAAI,WAAW,GAAG,CAAC,CAAC;AACpB,IAAI,SAAS,GAAG,CAAC,CAAC;AAClB,IAAI,IAAI,GAAG,CAAC,CAAC;;AAEb,SAAS,OAAO,GAAG;IACf,SAAS,SAAS,GAAG;QACjB,IAAI,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,SAAS,CAAC;QAC9B,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC;QACnB,WAAW,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;KACzD;IACD,WAAW,GAAG,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;CACzD;;AAED,SAASN,OAAK,GAAG;IACb,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;IACvB,OAAO,EAAE,CAAC;CACb;;AAED,SAAS,MAAM,GAAG;IACd,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;IAC9B,OAAO,EAAE,CAAC;CACb;;AAED,SAAS,KAAK,GAAG;IACb,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;CAC5C;;AAED,SAASC,SAAO,GAAG;IACf,MAAM,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC;IACzC,SAAS,GAAG,CAAC,CAAC;IACd,IAAI,GAAG,CAAC,CAAC;IACTI,OAAK,EAAE,CAAC;CACX;;AC/BD,IAAI,MAAM,GAAG,aAAa,CAAC;;AAE3B,SAAS,QAAQ,GAAG;IAChB,IAAI,MAAM,KAAK,aAAa,EAAE;QAC1B,MAAM,GAAG,SAAS,CAAC;QACnB,eAAe,EAAE,CAAC;QAClB,aAAa,EAAE,CAAC;QAChBE,OAAI,EAAE,CAAC;KACV,MAAM,IAAI,MAAM,KAAK,SAAS,EAAE;QAC7B,MAAM,GAAG,QAAQ,CAAC;QAClB,KAAK,EAAE,CAAC;QACR,YAAY,EAAE,CAAC;KAClB,MAAM,IAAI,MAAM,KAAK,QAAQ,EAAE;QAC5B,MAAM,GAAG,SAAS,CAAC;QACnB,MAAM,EAAE,CAAC;QACT,aAAa,EAAE,CAAC;KACnB;CACJ;;AAED,SAAS,KAAK,GAAG;IACb,IAAI,MAAM,KAAK,SAAS,IAAI,MAAM,KAAK,QAAQ,IAAI,MAAM,KAAK,OAAO,EAAE;QACnE,MAAM,GAAG,aAAa,CAAC;QACvB,gBAAgB,EAAE,CAAC;QACnBN,SAAO,EAAE,CAAC;QACV,YAAY,EAAE,CAAC;KAClB;CACJ;AACD,SAASD,OAAK,GAAG;IACbQ,QAAU,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,EAAE,KAAK,CAAC,CAAC;IACtD,gBAAgB,EAAE,CAAC;IACnBC,MAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;CACzD;;ACnCD,SAAS,aAAa,CAAC,MAAM,EAAE;IAC3B,MAAM,IAAI,GAAG,IAAI,GAAG,EAAE,CAAC;IACvB,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM,CAAC;IAC9B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;QAC3C,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;YACzB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;SACxF;KACJ;IACD,OAAO,IAAI,CAAC;CACf;;AAED,SAAS,eAAe,CAAC,MAAM,EAAE,UAAU,EAAE;;IAEzC,OAAO,MAAM,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACjC,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KACrD;;IAED,UAAU,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,GAAG,KAAK;QAC/B,MAAM,CAAC,YAAY,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;KACnC,CAAC,CAAC;CACN;;AClBD,SAAS,UAAU,CAAC,MAAM,EAAE;IACxB,IAAI,MAAM,GAAG,IAAI,CAAC;IAClB,MAAM,YAAY,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC;IAC9C,IAAI,YAAY,CAAC,MAAM,EAAE;QACrB,YAAY,CAAC,WAAW,EAAE,CAAC;QAC3B,CAAC,EAAE,MAAM,EAAE,GAAG,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;KAC1C,MAAM;QACH,MAAM,GAAG,gBAAgB,CAAC,GAAG,CAAC,eAAe,EAAE,CAAC;KACnD;IACD,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,GAAG,CAAC,4BAA4B,CAAC,MAAM,CAAC,CAAC,CAAC;CACtF;;AAED,SAAS,eAAe,CAAC,CAAC,EAAE;IACxB,MAAM,SAAS,GAAG,EAAE,CAAC;IACrB,SAAS,CAAC,SAAS,GAAG;QAClB,CAAC,EAAE,CAAC,CAAC,CAAC;QACN,CAAC,EAAE,CAAC,CAAC,CAAC;KACT,CAAC;IACF,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;;IAE3D,OAAO,SAAS,CAAC;CACpB;;ACrBD,MAAM,GAAG,CAAC;IACN,WAAW,CAAC,IAAI,EAAE;QACd,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;KACjB;IACD,YAAY,GAAG;QACX,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KAC7C;IACD,UAAU,GAAG;QACT,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;QAC5D,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;KAC9D;IACD,eAAe,GAAG;QACd,eAAe,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;KAC9C;IACD,eAAe,GAAG;QACd,IAAI,CAAC,SAAS,GAAG,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KACjD;IACD,SAAS,CAAC,MAAM,EAAE;QACd,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;KACvC;CACJ;;ACnBD,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,MAAM;IAChD,eAAe,EAAE,CAAC;IAClBC,OAAK,EAAE,CAAC;IACRC,OAAM,EAAE,CAAC;IACT,IAAI,EAAE,CAAC;CACV,CAAC,CAAC;;;;;;;;;;;"}